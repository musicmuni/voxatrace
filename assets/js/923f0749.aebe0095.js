"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4479],{7036(e,r,d){d.r(r),d.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>x,frontMatter:()=>t,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"calibra/utilities","title":"Utilities & Shared Types","description":"Shared model types, error types, and time utilities used across Calibra APIs.","source":"@site/docs/calibra/utilities.md","sourceDirName":"calibra","slug":"/calibra/utilities","permalink":"/calibra/utilities","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"sidebar_position":12},"sidebar":"docsSidebar","previous":{"title":"CalibraEffects","permalink":"/calibra/effects"}}');var n=d(4848),i=d(8453);const t={sidebar_position:12},l="Utilities & Shared Types",c={},h=[{value:"LessonMaterial",id:"lessonmaterial",level:2},{value:"Creating LessonMaterial",id:"creating-lessonmaterial",level:3},{value:"From File",id:"from-file",level:4},{value:"From Audio Samples",id:"from-audio-samples",level:4},{value:"Properties",id:"properties",level:3},{value:"AudioSource",id:"audiosource",level:2},{value:"Segment",id:"segment",level:2},{value:"Creating Segments",id:"creating-segments",level:3},{value:"Kotlin",id:"kotlin",level:4},{value:"Swift",id:"swift",level:4},{value:"Properties",id:"properties-1",level:3},{value:"Factory Methods",id:"factory-methods",level:3},{value:"SegmentResult",id:"segmentresult",level:2},{value:"Properties",id:"properties-2",level:3},{value:"Swift Pitch Data Extensions",id:"swift-pitch-data-extensions",level:3},{value:"Factory Method",id:"factory-method",level:3},{value:"SingingResult",id:"singingresult",level:2},{value:"Properties",id:"properties-3",level:3},{value:"Methods",id:"methods",level:3},{value:"Swift Convenience Methods",id:"swift-convenience-methods",level:3},{value:"Static Members",id:"static-members",level:3},{value:"ResultAggregation",id:"resultaggregation",level:2},{value:"PerformanceLevel",id:"performancelevel",level:2},{value:"Values",id:"values",level:3},{value:"Properties",id:"properties-4",level:3},{value:"Factory Methods",id:"factory-methods-1",level:3},{value:"Kotlin",id:"kotlin-1",level:4},{value:"Swift",id:"swift-1",level:4},{value:"PracticePhase",id:"practicephase",level:2},{value:"Phase Progressions",id:"phase-progressions",level:3},{value:"SessionPhase",id:"sessionphase",level:2},{value:"SessionState",id:"sessionstate",level:2},{value:"Properties",id:"properties-5",level:3},{value:"Static Members",id:"static-members-1",level:3},{value:"ActiveSegmentState",id:"activesegmentstate",level:2},{value:"Properties",id:"properties-6",level:3},{value:"SessionConfig",id:"sessionconfig",level:2},{value:"Presets",id:"presets",level:3},{value:"Builder",id:"builder",level:3},{value:"Kotlin",id:"kotlin-2",level:4},{value:"Swift",id:"swift-2",level:4},{value:"Config Properties",id:"config-properties",level:3},{value:"Builder Methods",id:"builder-methods",level:3},{value:"ScoringAlgorithm",id:"scoringalgorithm",level:2},{value:"NoteEvalConfig",id:"noteevalconfig",level:2},{value:"Properties",id:"properties-7",level:3},{value:"Presets",id:"presets-1",level:3},{value:"EvaluatorConfig",id:"evaluatorconfig",level:2},{value:"Properties",id:"properties-8",level:3},{value:"Presets",id:"presets-2",level:3},{value:"BreathMetrics",id:"breathmetrics",level:2},{value:"Error Types",id:"error-types",level:2},{value:"Kotlin",id:"kotlin-3",level:3},{value:"Swift",id:"swift-3",level:3},{value:"PitchDetectorError",id:"pitchdetectorerror",level:3},{value:"EvaluatorError",id:"evaluatorerror",level:3},{value:"EffectsError",id:"effectserror",level:3},{value:"AnalysisError",id:"analysiserror",level:3},{value:"TimeUtils",id:"timeutils",level:2},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"utilities--shared-types",children:"Utilities & Shared Types"})}),"\n",(0,n.jsx)(r.p,{children:"Shared model types, error types, and time utilities used across Calibra APIs."}),"\n",(0,n.jsx)(r.h2,{id:"lessonmaterial",children:"LessonMaterial"}),"\n",(0,n.jsx)(r.p,{children:"Reference material for singing evaluation. Contains the reference audio, segment boundaries, and musical key."}),"\n",(0,n.jsx)(r.h3,{id:"creating-lessonmaterial",children:"Creating LessonMaterial"}),"\n",(0,n.jsx)(r.h4,{id:"from-file",children:"From File"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",children:'val material = LessonMaterial.fromFile(\r\n    audioPath = "/path/to/reference.mp3",\r\n    segments = segments,\r\n    keyHz = 261.63f  // Middle C\r\n)\n'})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",children:'let material = LessonMaterial.fromFile(\r\n    audioPath: "/path/to/reference.mp3",\r\n    segments: segments,\r\n    keyHz: 261.63\r\n)\n'})}),"\n",(0,n.jsx)(r.h4,{id:"from-audio-samples",children:"From Audio Samples"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",children:"val material = LessonMaterial.fromAudio(\r\n    samples = audioSamples,\r\n    sampleRate = 16000,\r\n    segments = segments,\r\n    keyHz = 196.0f,\r\n    pitchContour = precomputedContour,  // Optional: enables fast path\r\n    hpcpFrames = precomputedHpcp        // Optional: for DTW alignment\r\n)\n"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",children:"let material = LessonMaterial.fromAudio(\r\n    samples: audioSamples,\r\n    sampleRate: 16000,\r\n    segments: segments,\r\n    keyHz: 196.0,\r\n    pitchContour: precomputedContour,\r\n    hpcpFrames: precomputedHpcp\r\n)\n"})}),"\n",(0,n.jsx)(r.h3,{id:"properties",children:"Properties"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"audioSource"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"AudioSource"})}),(0,n.jsx)(r.td,{children:"Source of the reference audio"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"segments"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"List<Segment>"})}),(0,n.jsx)(r.td,{children:"List of segments with timing and lyrics"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"keyHz"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Musical key frequency in Hz (e.g., 261.63 for middle C)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"pitchContour"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"PitchContour?"})}),(0,n.jsx)(r.td,{children:"Pre-computed pitch contour (enables fast path, skipping YIN extraction)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"hpcpFrames"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"List<FloatArray>?"})}),(0,n.jsx)(r.td,{children:"Pre-computed HPCP frames for DTW alignment (each frame is 12 floats)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"duration"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Total duration based on the last segment's end time"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"segmentCount"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:"Number of segments"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"audiosource",children:"AudioSource"}),"\n",(0,n.jsx)(r.p,{children:"Represents the source of audio data for evaluation. A sealed class with three variants."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Variant"}),(0,n.jsx)(r.th,{children:"Properties"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"AudioSource.File"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"path: String"})}),(0,n.jsx)(r.td,{children:"Audio from a local file path"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"AudioSource.Url"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"url: String"})}),(0,n.jsx)(r.td,{children:"Audio from a URL (for future streaming support)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"AudioSource.Samples"})}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"samples: FloatArray"}),", ",(0,n.jsx)(r.code,{children:"sampleRate: Int"})]}),(0,n.jsx)(r.td,{children:"Raw audio samples already in memory (default 16000 Hz)"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"segment",children:"Segment"}),"\n",(0,n.jsx)(r.p,{children:"A segment of a song or exercise with timing and optional lyrics. Supports both singalong (student sings with reference) and singafter (student sings after reference) modes."}),"\n",(0,n.jsx)(r.h3,{id:"creating-segments",children:"Creating Segments"}),"\n",(0,n.jsx)(r.h4,{id:"kotlin",children:"Kotlin"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",children:'// Single segment\r\nval segment = Segment(\r\n    index = 0,\r\n    startSeconds = 0.0f,\r\n    endSeconds = 5.0f,\r\n    lyrics = "Sa Re Ga Ma"\r\n)\r\n\r\n// Singafter segment (student sings after reference)\r\nval segment = Segment(\r\n    index = 0,\r\n    startSeconds = 0.0f,\r\n    endSeconds = 5.0f,\r\n    lyrics = "Sa Re Ga Ma",\r\n    studentStartSeconds = 2.5f,\r\n    studentEndSeconds = 5.0f\r\n)\r\n\r\n// From parallel arrays\r\nval segments = Segment.fromArrays(\r\n    starts = floatArrayOf(0f, 5f, 10f),\r\n    ends = floatArrayOf(5f, 10f, 15f),\r\n    lyrics = listOf("Line 1", "Line 2", "Line 3")\r\n)\n'})}),"\n",(0,n.jsx)(r.h4,{id:"swift",children:"Swift"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",children:'// Single segment\r\nlet segment = Segment.create(\r\n    index: 0,\r\n    startSeconds: 0.0,\r\n    endSeconds: 5.0,\r\n    lyrics: "Sa Re Ga Ma"\r\n)\r\n\r\n// Singafter segment\r\nlet segment = Segment.create(\r\n    index: 0,\r\n    startSeconds: 0.0,\r\n    endSeconds: 5.0,\r\n    lyrics: "Sa Re Ga Ma",\r\n    studentStartSeconds: 2.5,\r\n    studentEndSeconds: 5.0\r\n)\n'})}),"\n",(0,n.jsx)(r.h3,{id:"properties-1",children:"Properties"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Kotlin"}),(0,n.jsx)(r.th,{children:"Swift"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"index"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"Int"})," (via extension)"]}),(0,n.jsx)(r.td,{children:"Zero-based index of the segment"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"startSeconds"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"Double"})," (via extension)"]}),(0,n.jsx)(r.td,{children:"Reference audio start time in seconds"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"endSeconds"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"Double"})," (via extension)"]}),(0,n.jsx)(r.td,{children:"Reference audio end time in seconds"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"lyrics"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"String"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"String"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"String"})}),(0,n.jsx)(r.td,{children:"Text/lyrics for this segment"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"studentStartSeconds"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float?"})}),(0,n.jsx)(r.td,{children:"When student recording starts (null = same as startSeconds)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"studentEndSeconds"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float?"})}),(0,n.jsx)(r.td,{children:"When student recording ends (null = same as endSeconds)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"duration"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"Double"})," (via extension)"]}),(0,n.jsx)(r.td,{children:"Duration of the segment in seconds"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"isSingafter"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Bool"})}),(0,n.jsx)(r.td,{children:"True if student starts after reference"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"effectiveStudentStart"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"Double"})," (via extension)"]}),(0,n.jsx)(r.td,{children:"Effective student start time (falls back to segment start)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"effectiveStudentEnd"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"Double"})," (via extension)"]}),(0,n.jsx)(r.td,{children:"Effective student end time (falls back to segment end)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"studentDuration"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"Double"})," (via extension)"]}),(0,n.jsx)(r.td,{children:"Duration of the student recording portion"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"factory-methods",children:"Factory Methods"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Method"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsx)(r.tbody,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Segment.fromArrays(starts, ends, lyrics, studentStarts, studentEnds)"})}),(0,n.jsx)(r.td,{children:"Create segments from parallel arrays of start and end times"})]})})]}),"\n",(0,n.jsx)(r.h2,{id:"segmentresult",children:"SegmentResult"}),"\n",(0,n.jsx)(r.p,{children:"Result of evaluating a single segment."}),"\n",(0,n.jsx)(r.h3,{id:"properties-2",children:"Properties"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"segment"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Segment"})}),(0,n.jsx)(r.td,{children:"The segment that was evaluated"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"score"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Overall score for this segment (0.0 - 1.0)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"pitchAccuracy"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Pitch accuracy component of the score (0.0 - 1.0)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"level"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"PerformanceLevel"})}),(0,n.jsx)(r.td,{children:"Performance level classification"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"attemptNumber"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:"Which attempt this is (1-based, for retry tracking)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"referencePitch"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"PitchContour"})}),(0,n.jsx)(r.td,{children:"Reference pitch contour for visualization"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"studentPitch"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"PitchContour"})}),(0,n.jsx)(r.td,{children:"Student pitch contour for visualization"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"isPassing"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:"True if score >= 0.5"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"isGood"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:"True if score >= 0.7"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"isExcellent"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:"True if score >= 0.9"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"scorePercent"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:"Score as a percentage (0-100)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"feedbackMessage"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"String"})}),(0,n.jsx)(r.td,{children:"Human-readable feedback based on performance level"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"swift-pitch-data-extensions",children:"Swift Pitch Data Extensions"}),"\n",(0,n.jsx)(r.p,{children:"In Swift, pitch contour data is accessed via tuple extensions:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",children:"let result: SegmentResult = ...\r\n\r\n// Reference pitch data\r\nlet ref = result.referencePitchData\r\n// ref.times: [Float], ref.pitchesHz: [Float], ref.pitchesMidi: [Float]\r\n\r\n// Student pitch data\r\nlet student = result.studentPitchData\r\n// student.times: [Float], student.pitchesHz: [Float], student.pitchesMidi: [Float]\n"})}),"\n",(0,n.jsx)(r.h3,{id:"factory-method",children:"Factory Method"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",children:"val result = SegmentResult.create(\r\n    segment = segment,\r\n    score = 0.85f,\r\n    pitchAccuracy = 0.82f,\r\n    attemptNumber = 2,\r\n    referencePitch = refContour,\r\n    studentPitch = studentContour\r\n)\n"})}),"\n",(0,n.jsx)(r.h2,{id:"singingresult",children:"SingingResult"}),"\n",(0,n.jsx)(r.p,{children:"Complete result of a singing evaluation session, aggregating results across all segments."}),"\n",(0,n.jsx)(r.h3,{id:"properties-3",children:"Properties"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"overallScore"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Aggregate score across all segments (0.0 - 1.0)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"segmentResults"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Map<Int, List<SegmentResult>>"})}),(0,n.jsx)(r.td,{children:"Map of segment index to list of attempts"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"aggregation"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"ResultAggregation"})}),(0,n.jsx)(r.td,{children:"How the overall score was calculated"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"overallScorePercent"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:"Overall score as a percentage (0-100)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"segmentCount"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:"Number of segments evaluated"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"totalAttempts"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:"Number of total attempts across all segments"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"allPassing"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:"True if all segments pass (score >= 0.5)"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"methods",children:"Methods"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Method"}),(0,n.jsx)(r.th,{children:"Return Type"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"latestScorePerSegment()"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Map<Int, Float>"})}),(0,n.jsx)(r.td,{children:"Get the latest score for each segment"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"bestScorePerSegment()"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Map<Int, Float>"})}),(0,n.jsx)(r.td,{children:"Get the best score for each segment"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"averageScorePerSegment()"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Map<Int, Float>"})}),(0,n.jsx)(r.td,{children:"Get the average score for each segment"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"latestResultPerSegment()"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Map<Int, SegmentResult>"})}),(0,n.jsx)(r.td,{children:"Get the latest result for each segment"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"getAllFeedback()"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"List<String>"})}),(0,n.jsx)(r.td,{children:"Get feedback messages for all segments"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"swift-convenience-methods",children:"Swift Convenience Methods"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",children:'let result: SingingResult = ...\r\n\r\n// Latest score for a specific segment\r\nif let score = result.latestScore(forSegment: 0) {\r\n    print("Score: \\(Int(score * 100))%")\r\n}\r\n\r\n// Best score for a specific segment\r\nif let best = result.bestScore(forSegment: 0) {\r\n    print("Best: \\(Int(best * 100))%")\r\n}\n'})}),"\n",(0,n.jsx)(r.h3,{id:"static-members",children:"Static Members"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Member"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SingingResult.EMPTY"})}),(0,n.jsx)(r.td,{children:"Empty result constant (score 0, no segments)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SingingResult.calculateOverallScore(segmentResults, aggregation)"})}),(0,n.jsx)(r.td,{children:"Calculate overall score from segment results"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"resultaggregation",children:"ResultAggregation"}),"\n",(0,n.jsx)(r.p,{children:"How to aggregate multiple attempts per segment into a final score."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Value"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"LATEST"})}),(0,n.jsx)(r.td,{children:"Use the most recent attempt's score"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"BEST"})}),(0,n.jsx)(r.td,{children:"Use the highest score across all attempts"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"AVERAGE"})}),(0,n.jsx)(r.td,{children:"Use the average of all attempts"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"performancelevel",children:"PerformanceLevel"}),"\n",(0,n.jsx)(r.p,{children:"Score-based classification for singing evaluation results."}),"\n",(0,n.jsx)(r.h3,{id:"values",children:"Values"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Value"}),(0,n.jsx)(r.th,{children:"Score Range"}),(0,n.jsx)(r.th,{children:"Display Name"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"NEEDS_WORK"})}),(0,n.jsx)(r.td,{children:"< 0.3"}),(0,n.jsx)(r.td,{children:'"Needs Work"'}),(0,n.jsx)(r.td,{children:"Significant improvement needed"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"FAIR"})}),(0,n.jsx)(r.td,{children:"0.3 - 0.6"}),(0,n.jsx)(r.td,{children:'"Fair"'}),(0,n.jsx)(r.td,{children:"Room for improvement"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"GOOD"})}),(0,n.jsx)(r.td,{children:"0.6 - 0.8"}),(0,n.jsx)(r.td,{children:'"Good"'}),(0,n.jsx)(r.td,{children:"Solid performance"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"VERY_GOOD"})}),(0,n.jsx)(r.td,{children:"0.8 - 0.95"}),(0,n.jsx)(r.td,{children:'"Very Good"'}),(0,n.jsx)(r.td,{children:"Very strong performance"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"EXCELLENT"})}),(0,n.jsx)(r.td,{children:">= 0.95"}),(0,n.jsx)(r.td,{children:'"Excellent"'}),(0,n.jsx)(r.td,{children:"Outstanding performance"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"NOT_EVALUATED"})}),(0,n.jsx)(r.td,{children:"N/A"}),(0,n.jsx)(r.td,{children:'"Not Evaluated"'}),(0,n.jsx)(r.td,{children:"Could not evaluate (insufficient data)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"NOT_DETECTED"})}),(0,n.jsx)(r.td,{children:"< 0"}),(0,n.jsx)(r.td,{children:'"No Voice"'}),(0,n.jsx)(r.td,{children:"No voice detected during segment"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"properties-4",children:"Properties"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsx)(r.tbody,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"displayName"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"String"})}),(0,n.jsx)(r.td,{children:"Human-readable display name for UI"})]})})]}),"\n",(0,n.jsx)(r.h3,{id:"factory-methods-1",children:"Factory Methods"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Method"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"PerformanceLevel.fromScore(score)"})}),(0,n.jsx)(r.td,{children:"Get level based on score (0.0-1.0, negative for NOT_DETECTED)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"PerformanceLevel.fromCode(code)"})}),(0,n.jsx)(r.td,{children:"Convert from integer code (for JNI/C interop)"})]})]})]}),"\n",(0,n.jsx)(r.h4,{id:"kotlin-1",children:"Kotlin"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",children:'val level = PerformanceLevel.fromScore(0.85f)\r\n// level == PerformanceLevel.VERY_GOOD\r\nprintln(level.displayName)  // "Very Good"\n'})}),"\n",(0,n.jsx)(r.h4,{id:"swift-1",children:"Swift"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",children:'let level = PerformanceLevel.fromScore(0.85)\r\n// level == .veryGood\r\nprint(level.displayName)  // "Very Good"\n'})}),"\n",(0,n.jsx)(r.h2,{id:"practicephase",children:"PracticePhase"}),"\n",(0,n.jsx)(r.p,{children:"Practice phase during a CalibraLiveEval session."}),"\n",(0,n.jsx)(r.h3,{id:"phase-progressions",children:"Phase Progressions"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Singalong:"})," ",(0,n.jsx)(r.code,{children:"IDLE -> SINGING -> EVALUATED"})]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Student sings with the reference audio simultaneously"}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Singafter:"})," ",(0,n.jsx)(r.code,{children:"IDLE -> LISTENING -> SINGING -> EVALUATED"})]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Student listens to reference first, then sings during their turn"}),"\n"]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Value"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"IDLE"})}),(0,n.jsx)(r.td,{children:"Not practicing - waiting to start"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"LISTENING"})}),(0,n.jsx)(r.td,{children:"Reference playing, student not recording yet (singafter only)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SINGING"})}),(0,n.jsx)(r.td,{children:"Student is being recorded and evaluated"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"EVALUATED"})}),(0,n.jsx)(r.td,{children:"Segment complete, score available"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"sessionphase",children:"SessionPhase"}),"\n",(0,n.jsx)(r.p,{children:"Current phase of a CalibraLiveEval session."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Value"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"IDLE"})}),(0,n.jsx)(r.td,{children:"Session created but not started"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"READY"})}),(0,n.jsx)(r.td,{children:"Reference loaded, ready to begin practicing"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"PRACTICING"})}),(0,n.jsx)(r.td,{children:"Actively capturing and evaluating audio for a segment"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"BETWEEN_SEGMENTS"})}),(0,n.jsx)(r.td,{children:"Finished one segment, waiting before next"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"COMPLETED"})}),(0,n.jsx)(r.td,{children:"All segments completed or session manually finished"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"CANCELLED"})}),(0,n.jsx)(r.td,{children:"Session was cancelled"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"ERROR"})}),(0,n.jsx)(r.td,{children:"An error occurred"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"sessionstate",children:"SessionState"}),"\n",(0,n.jsxs)(r.p,{children:["Current state of a CalibraLiveEval session. Exposed as a ",(0,n.jsx)(r.code,{children:"StateFlow"})," from ",(0,n.jsx)(r.code,{children:"CalibraLiveEval"}),"."]}),"\n",(0,n.jsx)(r.h3,{id:"properties-5",children:"Properties"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"phase"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SessionPhase"})}),(0,n.jsx)(r.td,{children:"Current phase of the session"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"activeSegmentIndex"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int?"})}),(0,n.jsx)(r.td,{children:"Index of segment being practiced, or null if none"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"activeSegment"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Segment?"})}),(0,n.jsx)(r.td,{children:"The segment being practiced, or null if none"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"currentPitch"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Current detected pitch in Hz (-1 for unvoiced)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"currentAmplitude"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Current audio amplitude (0.0 - 1.0)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"segmentProgress"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Progress through current segment (0.0 - 1.0)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"completedSegments"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Set<Int>"})}),(0,n.jsx)(r.td,{children:"Set of segment indices that have been completed"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"error"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"String?"})}),(0,n.jsx)(r.td,{children:"Error message if phase is ERROR, null otherwise"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"isPracticing"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:"True if session is actively practicing"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"canBeginSegment"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:"True if session is ready to start or between segments"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"isFinished"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:"True if session is finished (completed, cancelled, or error)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"completedCount"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:"Number of completed segments"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"static-members-1",children:"Static Members"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Member"}),(0,n.jsx)(r.th,{children:"Kotlin"}),(0,n.jsx)(r.th,{children:"Swift"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Idle"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SessionState.IDLE"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".idle"})}),(0,n.jsx)(r.td,{children:"Initial idle state"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Ready"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SessionState.ready()"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SessionState.ready()"})}),(0,n.jsx)(r.td,{children:"Create a ready state"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Error"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SessionState.error(message)"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SessionState.error(message:)"})}),(0,n.jsx)(r.td,{children:"Create an error state"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"activesegmentstate",children:"ActiveSegmentState"}),"\n",(0,n.jsx)(r.p,{children:"State of the currently active segment during practice."}),"\n",(0,n.jsx)(r.h3,{id:"properties-6",children:"Properties"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"segmentIndex"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:"Index of the segment"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"segment"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Segment"})}),(0,n.jsx)(r.td,{children:"The segment being practiced"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"currentPitch"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Current detected pitch in Hz (-1 for unvoiced)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"currentAmplitude"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Current audio amplitude (0.0 - 1.0)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"elapsedSeconds"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Time elapsed since segment started"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"isCapturing"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:"Whether audio is currently being captured"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"progress"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Progress through the segment (0.0 - 1.0)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"remainingSeconds"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Time remaining in seconds"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"hasVoice"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:"True if detected pitch is valid"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"sessionconfig",children:"SessionConfig"}),"\n",(0,n.jsx)(r.p,{children:"Configuration for a CalibraLiveEval session."}),"\n",(0,n.jsx)(r.h3,{id:"presets",children:"Presets"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Preset"}),(0,n.jsx)(r.th,{children:"Kotlin"}),(0,n.jsx)(r.th,{children:"Swift"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Default"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SessionConfig.DEFAULT"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".default"})}),(0,n.jsx)(r.td,{children:"Balanced, auto-advancing"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Practice"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SessionConfig.PRACTICE"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".practice"})}),(0,n.jsx)(r.td,{children:"Repeats until 70% or 3 attempts, best score"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Karaoke"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SessionConfig.KARAOKE"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".karaoke"})}),(0,n.jsx)(r.td,{children:"Always advances, one attempt"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Performance"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SessionConfig.PERFORMANCE"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".performance"})}),(0,n.jsx)(r.td,{children:"Strict, one attempt, no repetition"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"builder",children:"Builder"}),"\n",(0,n.jsx)(r.h4,{id:"kotlin-2",children:"Kotlin"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",children:"val config = SessionConfig.Builder()\r\n    .preset(SessionConfig.PRACTICE)\r\n    .scoreThreshold(0.6f)\r\n    .maxAttempts(5)\r\n    .resultAggregation(ResultAggregation.BEST)\r\n    .build()\n"})}),"\n",(0,n.jsx)(r.h4,{id:"swift-2",children:"Swift"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",children:"let config = SessionConfig.Builder()\r\n    .preset(.practice)\r\n    .scoreThreshold(0.6)\r\n    .maxAttempts(5)\r\n    .resultAggregation(.best)\r\n    .build()\n"})}),"\n",(0,n.jsx)(r.h3,{id:"config-properties",children:"Config Properties"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"autoAdvance"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"true"})}),(0,n.jsx)(r.td,{children:"Automatically advance to next segment"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"scoreThreshold"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"0"})}),(0,n.jsx)(r.td,{children:"Min score to auto-advance (0 = disabled)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"maxAttempts"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"0"})}),(0,n.jsx)(r.td,{children:"Max attempts before forced advance (0 = unlimited)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"resultAggregation"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"ResultAggregation"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"LATEST"})}),(0,n.jsx)(r.td,{children:"How to aggregate multiple attempts"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"hopSize"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"160"})}),(0,n.jsx)(r.td,{children:"Hop size between frames in samples (160 = 10ms at 16kHz)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"autoPhaseTransition"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"true"})}),(0,n.jsx)(r.td,{children:"Auto transition LISTENING to SINGING in singafter mode"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"autoSegmentDetection"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"true"})}),(0,n.jsx)(r.td,{children:"Auto detect segment end from player time"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"builder-methods",children:"Builder Methods"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Method"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"preset(config)"})}),(0,n.jsx)(r.td,{children:"Start from a preset configuration"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"autoAdvance(enabled)"})}),(0,n.jsx)(r.td,{children:"Enable or disable auto-advance"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"scoreThreshold(threshold)"})}),(0,n.jsx)(r.td,{children:"Set minimum score threshold (0 = disabled)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"maxAttempts(max)"})}),(0,n.jsx)(r.td,{children:"Set maximum attempts (0 = unlimited)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"resultAggregation(agg)"})}),(0,n.jsx)(r.td,{children:"Set how to aggregate multiple attempts"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"hopSize(samples)"})}),(0,n.jsx)(r.td,{children:"Set hop size between frames"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"autoPhaseTransition(enabled)"})}),(0,n.jsx)(r.td,{children:"Enable or disable auto phase transition"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"autoSegmentDetection(enabled)"})}),(0,n.jsx)(r.td,{children:"Enable or disable auto segment end detection"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"scoringalgorithm",children:"ScoringAlgorithm"}),"\n",(0,n.jsx)(r.p,{children:"Algorithm for computing note accuracy scores."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Value"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SIMPLE"})}),(0,n.jsx)(r.td,{children:"Simple threshold counting. Counts percentage of pitch samples within 35 cents of target. Good for beginners."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"WEIGHTED"})}),(0,n.jsx)(r.td,{children:"Weighted duration-aware scoring. Tighter thresholds, considers note duration. Good for advanced evaluation."})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"noteevalconfig",children:"NoteEvalConfig"}),"\n",(0,n.jsx)(r.p,{children:"Configuration for note evaluation scoring."}),"\n",(0,n.jsx)(r.h3,{id:"properties-7",children:"Properties"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"algorithm"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"ScoringAlgorithm"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"SIMPLE"})}),(0,n.jsx)(r.td,{children:"Algorithm for computing scores"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boundaryToleranceMs"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"0"})}),(0,n.jsx)(r.td,{children:"Milliseconds to skip at note start/end"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"presets-1",children:"Presets"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Preset"}),(0,n.jsx)(r.th,{children:"Kotlin"}),(0,n.jsx)(r.th,{children:"Swift"}),(0,n.jsx)(r.th,{children:"Algorithm"}),(0,n.jsx)(r.th,{children:"Boundary Tolerance"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Lenient"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"NoteEvalPreset.LENIENT"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".lenient"})}),(0,n.jsx)(r.td,{children:"SIMPLE"}),(0,n.jsx)(r.td,{children:"200ms"}),(0,n.jsx)(r.td,{children:"Beginner-friendly"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Balanced"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"NoteEvalPreset.BALANCED"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".balanced"})}),(0,n.jsx)(r.td,{children:"SIMPLE"}),(0,n.jsx)(r.td,{children:"100ms"}),(0,n.jsx)(r.td,{children:"Standard practice"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Strict"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"NoteEvalPreset.STRICT"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".strict"})}),(0,n.jsx)(r.td,{children:"WEIGHTED"}),(0,n.jsx)(r.td,{children:"0ms"}),(0,n.jsx)(r.td,{children:"Advanced/performance"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"evaluatorconfig",children:"EvaluatorConfig"}),"\n",(0,n.jsx)(r.p,{children:"Configuration for singing evaluation."}),"\n",(0,n.jsx)(r.h3,{id:"properties-8",children:"Properties"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"sampleRate"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"16000"})}),(0,n.jsx)(r.td,{children:"Audio sample rate in Hz"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"semitoneShift"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Int"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"0"})}),(0,n.jsx)(r.td,{children:"Transpose reference by this many semitones"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"presets-2",children:"Presets"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Preset"}),(0,n.jsx)(r.th,{children:"Kotlin"}),(0,n.jsx)(r.th,{children:"Swift"}),(0,n.jsx)(r.th,{children:"Semitone Shift"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Standard"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"EvaluatorPreset.STANDARD"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".standard"})}),(0,n.jsx)(r.td,{children:"0"}),(0,n.jsx)(r.td,{children:"Standard evaluation at original pitch"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Male to Female"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"EvaluatorPreset.MALE_TO_FEMALE"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".maleToFemale"})}),(0,n.jsx)(r.td,{children:"+12"}),(0,n.jsx)(r.td,{children:"Transpose up one octave"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Female to Male"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"EvaluatorPreset.FEMALE_TO_MALE"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".femaleToMale"})}),(0,n.jsx)(r.td,{children:"-12"}),(0,n.jsx)(r.td,{children:"Transpose down one octave"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Transpose Up"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"EvaluatorPreset.TRANSPOSE_UP"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".transposeUp"})}),(0,n.jsx)(r.td,{children:"+2"}),(0,n.jsx)(r.td,{children:"Slight pitch adjustment up"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Transpose Down"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"EvaluatorPreset.TRANSPOSE_DOWN"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:".transposeDown"})}),(0,n.jsx)(r.td,{children:"-2"}),(0,n.jsx)(r.td,{children:"Slight pitch adjustment down"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"breathmetrics",children:"BreathMetrics"}),"\n",(0,n.jsx)(r.p,{children:"Result of breath analysis containing capacity and control metrics."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"capacity"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Breath capacity in seconds - measures longest sustained phrase"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"control"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Float"})}),(0,n.jsx)(r.td,{children:"Breath control score (0.0 to 1.0) - measures breathing pattern consistency"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"isValid"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Boolean"})}),(0,n.jsx)(r.td,{children:"Whether the result is valid (enough data was available)"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"error-types",children:"Error Types"}),"\n",(0,n.jsx)(r.h3,{id:"kotlin-3",children:"Kotlin"}),"\n",(0,n.jsxs)(r.p,{children:["Calibra uses ",(0,n.jsx)(r.code,{children:"CalibraException"})," with a ",(0,n.jsx)(r.code,{children:"CalibraErrorType"})," enum:"]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Error Type"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"INITIALIZATION_FAILED"})}),(0,n.jsx)(r.td,{children:"Failed to initialize native library"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"INVALID_CONFIG"})}),(0,n.jsx)(r.td,{children:"Invalid configuration parameters"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"ALLOCATION_FAILED"})}),(0,n.jsx)(r.td,{children:"Native resource allocation failed"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"PROCESSING_ERROR"})}),(0,n.jsx)(r.td,{children:"Processing error"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"FILE_ERROR"})}),(0,n.jsx)(r.td,{children:"File not found or inaccessible"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"UNKNOWN"})}),(0,n.jsx)(r.td,{children:"Unknown error"})]})]})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",children:'try {\r\n    val detector = CalibraPitch.createDetector(config)\r\n} catch (e: CalibraException) {\r\n    when (e.type) {\r\n        CalibraErrorType.INITIALIZATION_FAILED -> println("Init failed: ${e.message}")\r\n        CalibraErrorType.INVALID_CONFIG -> println("Bad config: ${e.message}")\r\n        else -> println("Error: ${e.message}")\r\n    }\r\n}\n'})}),"\n",(0,n.jsx)(r.h3,{id:"swift-3",children:"Swift"}),"\n",(0,n.jsxs)(r.p,{children:["Calibra provides typed error enums on iOS for each subsystem. All conform to ",(0,n.jsx)(r.code,{children:"LocalizedError"})," and provide descriptive ",(0,n.jsx)(r.code,{children:"errorDescription"})," messages."]}),"\n",(0,n.jsx)(r.h3,{id:"pitchdetectorerror",children:"PitchDetectorError"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Case"}),(0,n.jsx)(r.th,{children:"Parameters"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"initializationFailed"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"reason: String"})}),(0,n.jsx)(r.td,{children:"Failed to initialize pitch detector"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"detectionFailed"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"reason: String"})}),(0,n.jsx)(r.td,{children:"Pitch detection failed"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"invalidSampleRate"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"rate: Int"})}),(0,n.jsx)(r.td,{children:"Invalid sample rate (expected 16000 Hz)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"bufferTooSmall"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"size: Int, required: Int"})}),(0,n.jsx)(r.td,{children:"Buffer too small for detection"})]})]})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",children:"do {\r\n    let detector = try CalibraPitch.createDetector(config: config)\r\n} catch let error as PitchDetectorError {\r\n    print(error.localizedDescription)\r\n}\n"})}),"\n",(0,n.jsx)(r.h3,{id:"evaluatorerror",children:"EvaluatorError"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Case"}),(0,n.jsx)(r.th,{children:"Parameters"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"initializationFailed"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"reason: String"})}),(0,n.jsx)(r.td,{children:"Failed to initialize evaluator"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"invalidReference"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"reason: String"})}),(0,n.jsx)(r.td,{children:"Invalid reference audio"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"evaluationFailed"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"reason: String"})}),(0,n.jsx)(r.td,{children:"Evaluation failed"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"segmentNotFound"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"index: Int"})}),(0,n.jsx)(r.td,{children:"Segment not found at given index"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"captureNotStarted"})}),(0,n.jsx)(r.td,{children:"(none)"}),(0,n.jsx)(r.td,{children:"Capture was not started before evaluation"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"yamlParsingFailed"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"path: String"})}),(0,n.jsx)(r.td,{children:"Failed to parse YAML file"})]})]})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",children:'do {\r\n    let session = try CalibraLiveEval.create(reference: material, config: config)\r\n} catch let error as EvaluatorError {\r\n    switch error {\r\n    case .invalidReference(let reason):\r\n        print("Invalid reference: \\(reason)")\r\n    default:\r\n        print(error.localizedDescription)\r\n    }\r\n}\n'})}),"\n",(0,n.jsx)(r.h3,{id:"effectserror",children:"EffectsError"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Case"}),(0,n.jsx)(r.th,{children:"Parameters"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"initializationFailed"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"effect: String, reason: String"})}),(0,n.jsx)(r.td,{children:"Failed to initialize effect"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"processingFailed"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"effect: String, reason: String"})}),(0,n.jsx)(r.td,{children:"Effect processing failed"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"invalidParameter"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"name: String, value: Float, range: String"})}),(0,n.jsx)(r.td,{children:"Invalid parameter value"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"analysiserror",children:"AnalysisError"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Case"}),(0,n.jsx)(r.th,{children:"Parameters"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"insufficientData"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"required: String, actual: String"})}),(0,n.jsx)(r.td,{children:"Not enough data for analysis"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"detectionFailed"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"type: String, reason: String"})}),(0,n.jsx)(r.td,{children:"Detection failed"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"invalidInput"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"parameter: String, reason: String"})}),(0,n.jsx)(r.td,{children:"Invalid input parameter"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"timeutils",children:"TimeUtils"}),"\n",(0,n.jsx)(r.p,{children:"Platform-specific current time utility used internally for benchmarking in public APIs."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",children:"// Internal API \u2014 not directly consumed by SDK users\r\ninternal expect fun currentTimeMillis(): Long\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"currentTimeMillis()"})," is an internal ",(0,n.jsx)(r.code,{children:"expect"}),"/",(0,n.jsx)(r.code,{children:"actual"})," function that returns the current time in milliseconds. Each platform provides its own implementation. This is used internally by Calibra APIs for performance timing and benchmarking; it is not part of the public API surface."]}),"\n",(0,n.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"./pitch",children:"CalibraPitch"})," -- Real-time pitch detection"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"./vad",children:"CalibraVAD"})," -- Voice activity detection"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"./vocal-range",children:"CalibraVocalRange"})," -- Detect singer's comfortable range"]}),"\n"]})]})}function x(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8453(e,r,d){d.d(r,{R:()=>t,x:()=>l});var s=d(6540);const n={},i=s.createContext(n);function t(e){const r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);