"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[59206],{28453(t,a,c){c.d(a,{R:()=>e,x:()=>n});var r=c(96540);const o={},i=r.createContext(o);function e(t){const a=r.useContext(i);return r.useMemo(function(){return"function"==typeof t?t(a):{...a,...t}},[a,t])}function n(t){let a;return a=t.disableParentContext?"function"==typeof t.components?t.components(o):t.components||o:e(t.components),r.createElement(i.Provider,{value:a},t.children)}},34445(t,a,c){c.r(a),c.d(a,{assets:()=>l,contentTitle:()=>n,default:()=>d,frontMatter:()=>e,metadata:()=>r,toc:()=>s});const r=JSON.parse('{"id":"api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/index","title":"index","description":"//voxatrace/com.musicmuni.voxatrace.calibra.util/PitchContourAccumulator","source":"@site/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/index.md","sourceDirName":"api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator","slug":"/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"duration","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/duration"},"next":{"title":"set-max-duration","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/set-max-duration"}}');var o=c(74848),i=c(28453);const e={},n="PitchContourAccumulator",l={},s=[{value:"Parameters",id:"parameters",level:4},{value:"Constructors",id:"constructors",level:2},{value:"Properties",id:"properties",level:2},{value:"Functions",id:"functions",level:2}];function u(t){const a={a:"a",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...t.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.p,{children:["//",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/",children:"voxatrace"}),"/",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/",children:"com.musicmuni.voxatrace.calibra.util"}),"/",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/",children:"PitchContourAccumulator"})]}),"\n",(0,o.jsx)(a.header,{children:(0,o.jsx)(a.h1,{id:"pitchcontouraccumulator",children:"PitchContourAccumulator"})}),"\n",(0,o.jsxs)(a.p,{children:["class ",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/",children:"PitchContourAccumulator"}),"(sampleRate: ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"}),", hopSeconds: ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),", maxDurationSeconds: ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"})," = 10.0f)"]}),"\n",(0,o.jsx)(a.p,{children:"Accumulates pitch points into a live contour with ring buffer support."}),"\n",(0,o.jsx)(a.p,{children:"DRY component for all detector implementations. Provides:"}),"\n",(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsx)(a.li,{children:"Ring buffer to limit memory usage"}),"\n",(0,o.jsx)(a.li,{children:"StateFlow for real-time UI updates"}),"\n",(0,o.jsx)(a.li,{children:"Configurable max duration (set per segment)"}),"\n"]}),"\n",(0,o.jsx)(a.p,{children:"Usage:"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-kotlin",children:"val accumulator = PitchContourAccumulator(sampleRate = 16000, hopSeconds = 0.01f)\n\n// On each pitch detection\naccumulator.addPoint(pitchHz, confidence)\n\n// Observe in UI\naccumulator.contour.collect { contour -> updateUI(contour) }\n\n// On new segment\naccumulator.setMaxDuration(segmentDurationSeconds)\naccumulator.clear()\n"})}),"\n",(0,o.jsx)(a.h4,{id:"parameters",children:"Parameters"}),"\n",(0,o.jsx)(a.p,{children:"common"}),"\n",(0,o.jsxs)(a.table,{children:[(0,o.jsx)(a.thead,{children:(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.th,{}),(0,o.jsx)(a.th,{})]})}),(0,o.jsxs)(a.tbody,{children:[(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"sampleRate"}),(0,o.jsx)(a.td,{children:"Audio sample rate (for PitchContour metadata)"})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"hopSeconds"}),(0,o.jsx)(a.td,{children:"Time between pitch samples in seconds (default 10ms)"})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"maxDurationSeconds"}),(0,o.jsx)(a.td,{children:"Initial max duration for the contour (default 10s)"})]})]})]}),"\n",(0,o.jsx)(a.h2,{id:"constructors",children:"Constructors"}),"\n",(0,o.jsxs)(a.table,{children:[(0,o.jsx)(a.thead,{children:(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.th,{}),(0,o.jsx)(a.th,{})]})}),(0,o.jsx)(a.tbody,{children:(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/",children:"PitchContourAccumulator"})}),(0,o.jsxs)(a.td,{children:["[common]",(0,o.jsx)("br",{}),"constructor(sampleRate: ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"}),", hopSeconds: ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),", maxDurationSeconds: ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"})," = 10.0f)"]})]})})]}),"\n",(0,o.jsx)(a.h2,{id:"properties",children:"Properties"}),"\n",(0,o.jsxs)(a.table,{children:[(0,o.jsx)(a.thead,{children:(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.th,{children:"Name"}),(0,o.jsx)(a.th,{children:"Summary"})]})}),(0,o.jsxs)(a.tbody,{children:[(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/contour",children:"contour"})}),(0,o.jsxs)(a.td,{children:["[common]",(0,o.jsx)("br",{}),"val ",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/contour",children:"contour"}),": StateFlow<",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.model/-pitch-contour/",children:"PitchContour"}),">",(0,o.jsx)("br",{}),"The accumulated pitch contour as a StateFlow."]})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/duration",children:"duration"})}),(0,o.jsxs)(a.td,{children:["[common]",(0,o.jsx)("br",{}),"val ",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/duration",children:"duration"}),": ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),(0,o.jsx)("br",{}),"Current duration of the accumulated contour in seconds."]})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/size",children:"size"})}),(0,o.jsxs)(a.td,{children:["[common]",(0,o.jsx)("br",{}),"val ",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/size",children:"size"}),": ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"}),(0,o.jsx)("br",{}),"Number of points currently accumulated."]})]})]})]}),"\n",(0,o.jsx)(a.h2,{id:"functions",children:"Functions"}),"\n",(0,o.jsxs)(a.table,{children:[(0,o.jsx)(a.thead,{children:(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.th,{children:"Name"}),(0,o.jsx)(a.th,{children:"Summary"})]})}),(0,o.jsxs)(a.tbody,{children:[(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/add-point",children:"addPoint"})}),(0,o.jsxs)(a.td,{children:["[common]",(0,o.jsx)("br",{}),"fun ",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/add-point",children:"addPoint"}),"(pitch: ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),", confidence: ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),")",(0,o.jsx)("br",{}),"Add a pitch point to the accumulator."]})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/clear",children:"clear"})}),(0,o.jsxs)(a.td,{children:["[common]",(0,o.jsx)("br",{}),"fun ",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/clear",children:"clear"}),"()",(0,o.jsx)("br",{}),"Clear all accumulated points."]})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/set-max-duration",children:"setMaxDuration"})}),(0,o.jsxs)(a.td,{children:["[common]",(0,o.jsx)("br",{}),"fun ",(0,o.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.util/-pitch-contour-accumulator/set-max-duration",children:"setMaxDuration"}),"(seconds: ",(0,o.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),")",(0,o.jsx)("br",{}),"Set the maximum duration for the contour."]})]})]})]})]})}function d(t={}){const{wrapper:a}={...(0,i.R)(),...t.components};return a?(0,o.jsx)(a,{...t,children:(0,o.jsx)(u,{...t})}):u(t)}}}]);