"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[61834],{28453(e,a,t){t.d(a,{R:()=>c,x:()=>l});var n=t(96540);const i={},r=n.createContext(i);function c(e){const a=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),n.createElement(r.Provider,{value:a},e.children)}},44499(e,a,t){t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>l,default:()=>x,frontMatter:()=>c,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/index","title":"index","description":"//voxatrace/com.musicmuni.voxatrace.calibra/CalibraNoteEval","source":"@site/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/index.md","sourceDirName":"api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval","slug":"/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"note-label-to-midi","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-music/note-label-to-midi"},"next":{"title":"evaluate","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/evaluate"}}');var i=t(74848),r=t(28453);const c={},l="CalibraNoteEval",s={},o=[{value:"What is Note Evaluation?",id:"what-is-note-evaluation",level:2},{value:"When to Use",id:"when-to-use",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Kotlin",id:"kotlin",level:3},{value:"Swift",id:"swift",level:3},{value:"Key Transposition",id:"key-transposition",level:2},{value:"Kotlin",id:"kotlin-1",level:3},{value:"Platform Notes",id:"platform-notes",level:2},{value:"iOS",id:"ios",level:3},{value:"Android",id:"android",level:3},{value:"Common Pitfalls",id:"common-pitfalls",level:2},{value:"See also",id:"see-also",level:4},{value:"Functions",id:"functions",level:2}];function d(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.p,{children:["//",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/",children:"voxatrace"}),"/",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/",children:"com.musicmuni.voxatrace.calibra"}),"/",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/",children:"CalibraNoteEval"})]}),"\n",(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"calibranoteeval",children:"CalibraNoteEval"})}),"\n",(0,i.jsxs)(a.p,{children:["object ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/",children:"CalibraNoteEval"})]}),"\n",(0,i.jsx)(a.p,{children:"Offline note/exercise evaluation for scales, arpeggios, and svara patterns."}),"\n",(0,i.jsx)(a.h2,{id:"what-is-note-evaluation",children:"What is Note Evaluation?"}),"\n",(0,i.jsxs)(a.p,{children:["Note evaluation scores how accurately a student performs ",(0,i.jsx)(a.strong,{children:"individual notes"})," in a sequence. Unlike melody evaluation (which compares complete phrases), note evaluation scores each note separately."]}),"\n",(0,i.jsx)(a.p,{children:"Use it for:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Scale practice"}),": Sa Re Ga Ma Pa... with per-note feedback"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Arpeggio exercises"}),": Broken chord practice"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Interval training"}),": Jumping between specific notes"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Svara patterns"}),": Indian classical music exercises"]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,i.jsxs)(a.table,{children:[(0,i.jsx)(a.thead,{children:(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.th,{children:"Scenario"}),(0,i.jsx)(a.th,{children:"Use This?"}),(0,i.jsx)(a.th,{children:"Why"})]})}),(0,i.jsxs)(a.tbody,{children:[(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"Evaluate scales/exercises"}),(0,i.jsx)(a.td,{children:"Yes"}),(0,i.jsx)(a.td,{children:"Per-note scoring"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"Evaluate complete songs"}),(0,i.jsx)(a.td,{children:"No"}),(0,i.jsxs)(a.td,{children:["Use ",(0,i.jsx)(a.code,{children:"CalibraMelodyEval"})]})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"Real-time scoring"}),(0,i.jsx)(a.td,{children:"No"}),(0,i.jsxs)(a.td,{children:["Use ",(0,i.jsx)(a.code,{children:"CalibraLiveEval"})]})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"Just detect pitch"}),(0,i.jsx)(a.td,{children:"No"}),(0,i.jsxs)(a.td,{children:["Use ",(0,i.jsx)(a.code,{children:"CalibraPitch"})]})]})]})]}),"\n",(0,i.jsx)(a.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,i.jsx)(a.h3,{id:"kotlin",children:"Kotlin"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-kotlin",children:'val pattern = ExercisePattern(\n    noteFrequencies = listOf(261.63f, 293.66f, 329.63f),  // C4, D4, E4\n    noteDurations = listOf(500, 500, 500),  // 500ms each\n    notesPerLoop = 3\n)\n\nval studentContour = pitchExtractor.extract(studentAudio, 16000)\nval result = CalibraNoteEval.evaluate(pattern, studentContour, referenceKeyHz = 261.63f)\n\nprintln("Score: ${result.scorePercent}%")\nresult.noteResults.forEach { note ->\n    println("Note ${note.noteIndex}: ${note.scorePercent}%")\n}\n'})}),"\n",(0,i.jsx)(a.h3,{id:"swift",children:"Swift"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-swift",children:'let pattern = ExercisePattern(\n    noteFrequencies: [261.63, 293.66, 329.63],  // C4, D4, E4\n    noteDurations: [500, 500, 500],\n    notesPerLoop: 3\n)\n\nlet studentContour = pitchExtractor.extract(audio: studentAudio, sampleRate: 16000)\nlet result = CalibraNoteEval.companion.evaluate(\n    pattern: pattern,\n    student: studentContour,\n    referenceKeyHz: 261.63\n)\n\nprint("Score: \\(result.scorePercent)%")\nfor note in result.noteResults {\n    print("Note \\(note.noteIndex): \\(note.scorePercent)%")\n}\n'})}),"\n",(0,i.jsx)(a.h2,{id:"key-transposition",children:"Key Transposition"}),"\n",(0,i.jsx)(a.p,{children:"When students sing in a different key than the reference:"}),"\n",(0,i.jsx)(a.h3,{id:"kotlin-1",children:"Kotlin"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-kotlin",children:"val result = CalibraNoteEval.evaluate(\n    pattern = pattern,\n    student = studentContour,\n    referenceKeyHz = 261.63f,  // Reference in C\n    studentKeyHz = 277.18f,    // Student sings in C#\n    leewaySamples = 100        // Allow timing flexibility\n)\n"})}),"\n",(0,i.jsx)(a.h2,{id:"platform-notes",children:"Platform Notes"}),"\n",(0,i.jsx)(a.h3,{id:"ios",children:"iOS"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Audio must be 16kHz mono; use SonixDecoder/SonixResampler to convert"}),"\n",(0,i.jsxs)(a.li,{children:["Use ",(0,i.jsx)(a.code,{children:"@ShouldRefineInSwift"})," methods with provided Swift extensions"]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"android",children:"Android"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Audio must be 16kHz mono; use SonixDecoder/SonixResampler to convert"}),"\n",(0,i.jsx)(a.li,{children:"Works with any pitch contour from CalibraPitch"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,i.jsxs)(a.ol,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Wrong audio sample rate"}),": Audio must be 16kHz; use SonixResampler if needed"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Mismatched note count"}),": Pattern and student must have same number of notes"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Forgetting key transposition"}),": Set studentKeyHz if student sings in different key"]}),"\n"]}),"\n",(0,i.jsx)(a.h4,{id:"see-also",children:"See also"}),"\n",(0,i.jsxs)(a.table,{children:[(0,i.jsx)(a.thead,{children:(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.th,{}),(0,i.jsx)(a.th,{})]})}),(0,i.jsxs)(a.tbody,{children:[(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-melody-eval/",children:"CalibraMelodyEval"})}),(0,i.jsx)(a.td,{children:"For complete melody/song evaluation"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-live-eval/",children:"CalibraLiveEval"})}),(0,i.jsx)(a.td,{children:"For real-time evaluation during singing"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-exercise-pattern/",children:"ExercisePattern"})}),(0,i.jsx)(a.td,{children:"For defining note patterns"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-exercise-result/",children:"ExerciseResult"})}),(0,i.jsx)(a.td,{children:"For understanding evaluation results"})]})]})]}),"\n",(0,i.jsx)(a.h2,{id:"functions",children:"Functions"}),"\n",(0,i.jsxs)(a.table,{children:[(0,i.jsx)(a.thead,{children:(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.th,{children:"Name"}),(0,i.jsx)(a.th,{children:"Summary"})]})}),(0,i.jsx)(a.tbody,{children:(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/evaluate",children:"evaluate"})}),(0,i.jsxs)(a.td,{children:["[common]",(0,i.jsx)("br",{}),"fun ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/evaluate",children:"evaluate"}),"(pattern: ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-exercise-pattern/",children:"ExercisePattern"}),", student: ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.model/-pitch-contour/",children:"PitchContour"}),", referenceKeyHz: ",(0,i.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),", studentKeyHz: ",(0,i.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"})," = 0.0f, config: ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.model/-note-eval-config/",children:"NoteEvalConfig"})," = NoteEvalConfig.DEFAULT): ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-exercise-result/",children:"ExerciseResult"}),(0,i.jsx)("br",{}),"Evaluate with configuration object.",(0,i.jsx)("br",{}),"[common]",(0,i.jsx)("br",{}),"fun ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/evaluate",children:"evaluate"}),"(pattern: ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-exercise-pattern/",children:"ExercisePattern"}),", student: ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.model/-pitch-contour/",children:"PitchContour"}),", referenceKeyHz: ",(0,i.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),", studentKeyHz: ",(0,i.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"})," = 0.0f, preset: ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.model/-note-eval-preset/",children:"NoteEvalPreset"}),"): ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-exercise-result/",children:"ExerciseResult"}),(0,i.jsx)("br",{}),"Evaluate with preset.",(0,i.jsx)("br",{}),"[common]",(0,i.jsx)("br",{}),"fun ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-note-eval/evaluate",children:"evaluate"}),"(pattern: ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-exercise-pattern/",children:"ExercisePattern"}),", student: ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.model/-pitch-contour/",children:"PitchContour"}),", referenceKeyHz: ",(0,i.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),", studentKeyHz: ",(0,i.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"})," = 0.0f, scoreType: ",(0,i.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"})," = 0, leewaySamples: ",(0,i.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"})," = 0): ",(0,i.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-exercise-result/",children:"ExerciseResult"}),(0,i.jsx)("br",{}),"Evaluate a note/exercise performance."]})]})})]})]})}function x(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);