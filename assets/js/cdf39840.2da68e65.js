"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1512],{28453(e,a,o){o.d(a,{R:()=>d,x:()=>n});var i=o(96540);const t={},r=i.createContext(t);function d(e){const a=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function n(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(r.Provider,{value:a},e.children)}},50054(e,a,o){o.r(a),o.d(a,{assets:()=>l,contentTitle:()=>n,default:()=>x,frontMatter:()=>d,metadata:()=>i,toc:()=>s});const i=JSON.parse('{"id":"api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/index","title":"index","description":"//voxatrace/com.musicmuni.voxatrace.ai/ModelDownloader","source":"@site/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/index.md","sourceDirName":"api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader","slug":"/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"index","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-download-state/-idle/"},"next":{"title":"await-model","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/await-model"}}');var t=o(74848),r=o(28453);const d={},n="ModelDownloader",l={},s=[{value:"Usage",id:"usage",level:2},{value:"Sideloading",id:"sideloading",level:2},{value:"Properties",id:"properties",level:2},{value:"Functions",id:"functions",level:2}];function c(e){const a={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.p,{children:["//",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/",children:"voxatrace"}),"/",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/",children:"com.musicmuni.voxatrace.ai"}),"/",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/",children:"ModelDownloader"})]}),"\n",(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"modeldownloader",children:"ModelDownloader"})}),"\n",(0,t.jsxs)(a.p,{children:["[common]",(0,t.jsx)(a.br,{}),"\n","expect object ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/",children:"ModelDownloader"})]}),"\n",(0,t.jsx)(a.p,{children:"Downloads and extracts AI model bundles on demand."}),"\n",(0,t.jsx)(a.p,{children:"All URLs return zip archives that are extracted to the models folder. This unified approach works for single-file or multi-file bundles."}),"\n",(0,t.jsx)(a.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(a.p,{children:"Models are downloaded on-demand when features are first used:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-kotlin",children:'VT.initialize("api_key", context)  // Configures downloader, no download yet\n\n// When using AI features, the required model downloads automatically\nval pitch = CalibraPitch.create()  // Downloads pitch.zip if not cached\nval vad = CalibraVAD.create(VADModelProvider.speech())  // Downloads vad-speech.zip if not cached\n'})}),"\n",(0,t.jsx)(a.h2,{id:"sideloading",children:"Sideloading"}),"\n",(0,t.jsxs)(a.p,{children:["Downloaded models are fallback only. Custom providers registered via ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-a-i-model-registry/",children:"AIModelRegistry"})," take priority:"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-kotlin",children:"AIModelRegistry.registerSwiftF0 { customLoader() }  // Takes priority\n"})}),"\n",(0,t.jsxs)(a.p,{children:["[android]",(0,t.jsx)(a.br,{}),"\n","actual object ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/",children:"ModelDownloader"})]}),"\n",(0,t.jsx)(a.p,{children:"Android implementation of ModelDownloader."}),"\n",(0,t.jsx)(a.p,{children:"Downloads models on-demand from per-feature zip files, extracts to internal storage, and provides model bytes."}),"\n",(0,t.jsxs)(a.p,{children:["[ios]",(0,t.jsx)(a.br,{}),"\n","actual object ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/",children:"ModelDownloader"})]}),"\n",(0,t.jsx)(a.p,{children:"iOS implementation of ModelDownloader."}),"\n",(0,t.jsx)(a.p,{children:"Downloads models on-demand from per-feature zip files, extracts to Application Support, and provides model bytes."}),"\n",(0,t.jsx)(a.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsxs)(a.table,{children:[(0,t.jsx)(a.thead,{children:(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.th,{children:"Name"}),(0,t.jsx)(a.th,{children:"Summary"})]})}),(0,t.jsx)(a.tbody,{children:(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/download-state",children:"downloadState"})}),(0,t.jsxs)(a.td,{children:["[common]",(0,t.jsx)("br",{}),"expect val ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/download-state",children:"downloadState"}),": StateFlow<",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-download-state/",children:"DownloadState"}),">",(0,t.jsx)("br",{}),"Download state for observing progress",(0,t.jsx)("br",{}),"[android, ios]",(0,t.jsx)("br",{}),"[android]",(0,t.jsx)("br",{}),"actual val ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/download-state",children:"downloadState"}),": StateFlow<",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-download-state/",children:"DownloadState"}),">",(0,t.jsx)("br",{}),"[ios]",(0,t.jsx)("br",{}),"actual val ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/download-state",children:"downloadState"}),": StateFlow<DownloadState>"]})]})})]}),"\n",(0,t.jsx)(a.h2,{id:"functions",children:"Functions"}),"\n",(0,t.jsxs)(a.table,{children:[(0,t.jsx)(a.thead,{children:(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.th,{children:"Name"}),(0,t.jsx)(a.th,{children:"Summary"})]})}),(0,t.jsxs)(a.tbody,{children:[(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/await-model",children:"awaitModel"})}),(0,t.jsxs)(a.td,{children:["[common]",(0,t.jsx)("br",{}),"expect suspend fun ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/await-model",children:"awaitModel"}),"(filename: ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),"): ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-byte-array/index.html",children:"ByteArray"}),(0,t.jsx)("br",{}),"Await until a specific model is available. Downloads the appropriate zip on-demand if not already present.",(0,t.jsx)("br",{}),"[android, ios]",(0,t.jsx)("br",{}),"[android, ios]",(0,t.jsx)("br",{}),"actual suspend fun ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/await-model",children:"awaitModel"}),"(filename: ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),"): ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-byte-array/index.html",children:"ByteArray"})]})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/configure",children:"configure"})}),(0,t.jsxs)(a.td,{children:["[common]",(0,t.jsx)("br",{}),"expect fun ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/configure",children:"configure"}),"(context: ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-any/index.html",children:"Any"}),"?)",(0,t.jsx)("br",{}),"Configure the downloader with platform context. Called internally by VT.initialize().",(0,t.jsx)("br",{}),"[android, ios]",(0,t.jsx)("br",{}),"[android, ios]",(0,t.jsx)("br",{}),"actual fun ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/configure",children:"configure"}),"(context: ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-any/index.html",children:"Any"}),"?)"]})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/get-models-directory",children:"getModelsDirectory"})}),(0,t.jsxs)(a.td,{children:["[common]",(0,t.jsx)("br",{}),"expect fun ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/get-models-directory",children:"getModelsDirectory"}),"(): ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),(0,t.jsx)("br",{}),"Get path to models directory",(0,t.jsx)("br",{}),"[android, ios]",(0,t.jsx)("br",{}),"[android, ios]",(0,t.jsx)("br",{}),"actual fun ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/get-models-directory",children:"getModelsDirectory"}),"(): ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"})]})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/is-model-downloaded",children:"isModelDownloaded"})}),(0,t.jsxs)(a.td,{children:["[common]",(0,t.jsx)("br",{}),"expect fun ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/is-model-downloaded",children:"isModelDownloaded"}),"(filename: ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),"): ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-boolean/index.html",children:"Boolean"}),(0,t.jsx)("br",{}),"Check if a specific model is downloaded",(0,t.jsx)("br",{}),"[android, ios]",(0,t.jsx)("br",{}),"[android, ios]",(0,t.jsx)("br",{}),"actual fun ",(0,t.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.ai/-model-downloader/is-model-downloaded",children:"isModelDownloaded"}),"(filename: ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),"): ",(0,t.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-boolean/index.html",children:"Boolean"})]})]})]})]})]})}function x(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);