"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1963],{2166(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"sonix/midi-synthesizer","title":"SonixMidiSynthesizer","description":"Convert MIDI notes or files to audio using SoundFont instruments.","source":"@site/docs/sonix/midi-synthesizer.md","sourceDirName":"sonix","slug":"/sonix/midi-synthesizer","permalink":"/sonix/midi-synthesizer","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"docsSidebar","previous":{"title":"SonixResampler","permalink":"/sonix/resampler"},"next":{"title":"SonixLessonSynthesizer","permalink":"/sonix/lesson-synthesizer"}}');var s=t(4848),r=t(8453);const d={sidebar_position:9},o="SonixMidiSynthesizer",l={},h=[{value:"Quick Start",id:"quick-start",level:2},{value:"Kotlin",id:"kotlin",level:3},{value:"Swift",id:"swift",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Factory Method",id:"factory-method",level:3},{value:"Builder",id:"builder",level:3},{value:"Kotlin",id:"kotlin-1",level:4},{value:"Swift",id:"swift-1",level:4},{value:"Builder Parameters",id:"builder-parameters",level:3},{value:"Synthesis Methods",id:"synthesis-methods",level:2},{value:"From MIDI File",id:"from-midi-file",level:3},{value:"From MIDI Data Bytes",id:"from-midi-data-bytes",level:3},{value:"From Note List",id:"from-note-list",level:3},{value:"From Pitch File",id:"from-pitch-file",level:3},{value:"Method Summary",id:"method-summary",level:2},{value:"Properties",id:"properties",level:2},{value:"MidiNote",id:"midinote",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Generate and Play Reference Audio",id:"generate-and-play-reference-audio",level:3},{value:"Convert to Compressed Format",id:"convert-to-compressed-format",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"sonixmidisynthesizer",children:"SonixMidiSynthesizer"})}),"\n",(0,s.jsx)(n.p,{children:"Convert MIDI notes or files to audio using SoundFont instruments."}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.h3,{id:"kotlin",children:"Kotlin"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val synth = SonixMidiSynthesizer.create(soundFontPath = "/path/to/soundfont.sf2")\r\n\r\n// Synthesize from a list of notes\r\nval notes = listOf(\r\n    MidiNote(note = 60, startTime = 0f, endTime = 500f),      // C4 at 0-500ms\r\n    MidiNote(note = 62, startTime = 500f, endTime = 1000f),    // D4 at 500-1000ms\r\n    MidiNote(note = 64, startTime = 1000f, endTime = 1500f)    // E4 at 1000-1500ms\r\n)\r\nsynth.synthesizeFromNotes(notes = notes, outputPath = "/path/to/output.wav")\r\n\r\nsynth.release()\n'})}),"\n",(0,s.jsx)(n.h3,{id:"swift",children:"Swift"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:'let synth = SonixMidiSynthesizer.create(soundFontPath: "/path/to/soundfont.sf2")\r\n\r\nlet notes = [\r\n    MidiNote(note: 60, startTime: 0, endTime: 500),\r\n    MidiNote(note: 62, startTime: 500, endTime: 1000),\r\n    MidiNote(note: 64, startTime: 1000, endTime: 1500)\r\n]\r\nsynth.synthesizeFromNotes(notes: notes, outputPath: "/path/to/output.wav")\r\n\r\nsynth.release()\n'})}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"factory-method",children:"Factory Method"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val synth = SonixMidiSynthesizer.create(soundFontPath = "/path/to/soundfont.sf2")\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:'let synth = SonixMidiSynthesizer.create(soundFontPath: "/path/to/soundfont.sf2")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"builder",children:"Builder"}),"\n",(0,s.jsx)(n.p,{children:"For custom sample rate or error handling:"}),"\n",(0,s.jsx)(n.h4,{id:"kotlin-1",children:"Kotlin"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val synth = SonixMidiSynthesizer.Builder()\r\n    .soundFontPath("/path/to/soundfont.sf2")\r\n    .sampleRate(48000)\r\n    .onError { error -> println("Error: $error") }\r\n    .build()\n'})}),"\n",(0,s.jsx)(n.h4,{id:"swift-1",children:"Swift"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:'let synth = SonixMidiSynthesizer.Builder()\r\n    .soundFontPath(path: "/path/to/soundfont.sf2")\r\n    .sampleRate(rate: 48000)\r\n    .build()\n'})}),"\n",(0,s.jsx)(n.h3,{id:"builder-parameters",children:"Builder Parameters"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"soundFontPath"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"String"})}),(0,s.jsx)(n.td,{children:"\u2014"}),(0,s.jsx)(n.td,{children:"Path to .sf2 or .sf3 file (required)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sampleRate"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Int"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"44100"})}),(0,s.jsx)(n.td,{children:"Output sample rate in Hz"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"onError"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"(String) -> Unit"})}),(0,s.jsx)(n.td,{children:"\u2014"}),(0,s.jsx)(n.td,{children:"Error callback"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"synthesis-methods",children:"Synthesis Methods"}),"\n",(0,s.jsx)(n.h3,{id:"from-midi-file",children:"From MIDI File"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val success: Boolean = synth.synthesize(\r\n    midiPath = "/path/to/input.mid",\r\n    outputPath = "/path/to/output.wav"\r\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"from-midi-data-bytes",children:"From MIDI Data Bytes"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val midiData: ByteArray = ...  // Standard MIDI File bytes\r\nval success: Boolean = synth.synthesizeMidi(\r\n    midiData = midiData,\r\n    outputPath = "/path/to/output.wav"\r\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"from-note-list",children:"From Note List"}),"\n",(0,s.jsx)(n.p,{children:"Note timing is in absolute milliseconds:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val notes = listOf(\r\n    MidiNote(note = 60, startTime = 0f, endTime = 500f),\r\n    MidiNote(note = 62, startTime = 500f, endTime = 1000f)\r\n)\r\nval success: Boolean = synth.synthesizeFromNotes(\r\n    notes = notes,\r\n    outputPath = "/path/to/output.wav"\r\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"from-pitch-file",children:"From Pitch File"}),"\n",(0,s.jsx)(n.p,{children:"Generate audio from a pitch contour file (used in music education):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val success: Boolean = synth.synthesizeFromPitchFile(\r\n    pitchFilePath = "/path/to/melody.pitchPP",\r\n    outputPath = "/path/to/output.wav",\r\n    lessonTonicHz = 261.63f,                  // C4 tonic\r\n    parentTonicHz = 261.63f                   // defaults to lessonTonicHz\r\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"method-summary",children:"Method Summary"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Input"}),(0,s.jsx)(n.th,{children:"Output"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"synthesize"})}),(0,s.jsx)(n.td,{children:"MIDI file path"}),(0,s.jsx)(n.td,{children:"WAV file"}),(0,s.jsx)(n.td,{children:"Convert MIDI file to audio"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"synthesizeMidi"})}),(0,s.jsx)(n.td,{children:"MIDI bytes"}),(0,s.jsx)(n.td,{children:"WAV file"}),(0,s.jsx)(n.td,{children:"Convert raw MIDI data to audio"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"synthesizeFromNotes"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"List<MidiNote>"})}),(0,s.jsx)(n.td,{children:"WAV file"}),(0,s.jsx)(n.td,{children:"Convert note list to audio"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"synthesizeFromPitchFile"})}),(0,s.jsx)(n.td,{children:"Pitch file path"}),(0,s.jsx)(n.td,{children:"WAV file"}),(0,s.jsx)(n.td,{children:"Convert pitch contour to audio"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"release"})}),(0,s.jsx)(n.td,{children:"\u2014"}),(0,s.jsx)(n.td,{children:"\u2014"}),(0,s.jsx)(n.td,{children:"Release resources"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"soundFontPath"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"String"})}),(0,s.jsx)(n.td,{children:"Path to the SoundFont file"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sampleRate"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Int"})}),(0,s.jsx)(n.td,{children:"Output sample rate"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"version"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"String"})}),(0,s.jsx)(n.td,{children:"FluidSynth version string"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"midinote",children:"MidiNote"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"note"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Int"})}),(0,s.jsx)(n.td,{children:"MIDI note number (60 = C4, 72 = C5)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"startTime"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Float"})}),(0,s.jsx)(n.td,{children:"Start time in milliseconds"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"endTime"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Float"})}),(0,s.jsx)(n.td,{children:"End time in milliseconds"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"generate-and-play-reference-audio",children:"Generate and Play Reference Audio"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val synth = SonixMidiSynthesizer.create(soundFontPath = sfPath)\r\n\r\nval notes = listOf(\r\n    MidiNote(note = 60, startTime = 0f, endTime = 500f),\r\n    MidiNote(note = 64, startTime = 500f, endTime = 1000f),\r\n    MidiNote(note = 67, startTime = 1000f, endTime = 1500f)\r\n)\r\n\r\nval outputPath = "${cacheDir}/reference.wav"\r\nif (synth.synthesizeFromNotes(notes, outputPath)) {\r\n    val player = SonixPlayer.create(outputPath)\r\n    player.play()\r\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"convert-to-compressed-format",children:"Convert to Compressed Format"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'// Synthesize to WAV\r\nsynth.synthesizeFromNotes(notes, outputPath = "output.wav")\r\n\r\n// Convert to MP3 for sharing\r\nval wavData = SonixDecoder.decode("output.wav", targetSampleRate = null)\r\nif (wavData != null) {\r\n    SonixEncoder.encode(data = wavData, outputPath = "output.mp3", format = "mp3")\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"./lesson-synthesizer",children:"SonixLessonSynthesizer"})," \u2014 Synthesize lessons from svara sequences"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"./player",children:"SonixPlayer"})," \u2014 Play synthesized audio"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"./encoder",children:"SonixEncoder"})," \u2014 Convert WAV output to MP3/M4A"]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,t){t.d(n,{R:()=>d,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function d(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);