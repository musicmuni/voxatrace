"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[27039],{28453(e,n,i){i.d(n,{R:()=>a,x:()=>r});var t=i(96540);const s={},o=t.createContext(s);function a(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(o.Provider,{value:n},e.children)}},65101(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/index","title":"index","description":"//voxatrace/com.musicmuni.voxatrace.sonix/SonixEncoder","source":"@site/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/index.md","sourceDirName":"api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder","slug":"/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"decode","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/decode"},"next":{"title":"encode","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/encode"}}');var s=i(74848),o=i(28453);const a={},r="SonixEncoder",l={},d=[{value:"What is Audio Encoding?",id:"what-is-audio-encoding",level:2},{value:"When to Use",id:"when-to-use",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Kotlin",id:"kotlin",level:3},{value:"Swift",id:"swift",level:3},{value:"Supported Formats",id:"supported-formats",level:2},{value:"Bitrate Guide",id:"bitrate-guide",level:2},{value:"Platform Notes",id:"platform-notes",level:2},{value:"iOS",id:"ios",level:3},{value:"Android",id:"android",level:3},{value:"Common Pitfalls",id:"common-pitfalls",level:2},{value:"See also",id:"see-also",level:4},{value:"Functions",id:"functions",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["//",(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/",children:"voxatrace"}),"/",(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/",children:"com.musicmuni.voxatrace.sonix"}),"/",(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/",children:"SonixEncoder"})]}),"\n",(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"sonixencoder",children:"SonixEncoder"})}),"\n",(0,s.jsxs)(n.p,{children:["object ",(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/",children:"SonixEncoder"})]}),"\n",(0,s.jsx)(n.p,{children:"Encodes audio to compressed formats (M4A/AAC, MP3)."}),"\n",(0,s.jsx)(n.h2,{id:"what-is-audio-encoding",children:"What is Audio Encoding?"}),"\n",(0,s.jsxs)(n.p,{children:["Raw PCM audio uses a lot of space (~10MB per minute at 44kHz stereo). Encoding ",(0,s.jsx)(n.strong,{children:"compresses"})," audio to efficient formats like M4A or MP3 for storage and sharing."]}),"\n",(0,s.jsx)(n.p,{children:"Use it when you need to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Save recorded audio to a file"}),"\n",(0,s.jsx)(n.li,{children:"Export synthesized audio"}),"\n",(0,s.jsx)(n.li,{children:"Convert between audio formats"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Scenario"}),(0,s.jsx)(n.th,{children:"Use This?"}),(0,s.jsx)(n.th,{children:"Why"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Save recording to file"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"Core use case"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Export synthesized audio"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"After synthesis"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Convert audio formats"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"Decode + encode"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Record audio directly"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsxs)(n.td,{children:["Use ",(0,s.jsx)(n.code,{children:"SonixRecorder"})," (encodes internally)"]})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.h3,{id:"kotlin",children:"Kotlin"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'// Encode from AudioRawData (e.g., after decoding or synthesis)\nval rawData = SonixDecoder.decode("input.wav")\nif (rawData != null) {\n    val success = SonixEncoder.encode(\n        data = rawData,\n        outputPath = "/path/to/output.mp3",\n        format = "mp3"\n    )\n}\n\n// Encode from float samples\nval success = SonixEncoder.encode(\n    samples = floatArray,\n    sampleRate = 44100,\n    channels = 1,\n    outputPath = "/path/to/output.m4a"\n)\n\n// Check format availability\nif (SonixEncoder.isFormatAvailable("mp3")) {\n    // MP3 encoding is supported\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"swift",children:"Swift"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:'// Encode from AudioRawData\nif let rawData = SonixDecoder.companion.decode(path: "input.wav", targetSampleRate: nil) {\n    let success = SonixEncoder.companion.encode(\n        data: rawData,\n        outputPath: "/path/to/output.mp3",\n        format: "mp3",\n        bitrateKbps: 128\n    )\n}\n\n// Encode from float samples\nlet success = SonixEncoder.companion.encode(\n    samples: floatArray,\n    sampleRate: 44100,\n    channels: 1,\n    outputPath: "/path/to/output.m4a",\n    format: "m4a",\n    bitrateKbps: 128\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"supported-formats",children:"Supported Formats"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Format"}),(0,s.jsx)(n.th,{children:"Quality"}),(0,s.jsx)(n.th,{children:"Compatibility"}),(0,s.jsx)(n.th,{children:"Use Case"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"M4A/AAC"}),(0,s.jsx)(n.td,{children:"Best"}),(0,s.jsx)(n.td,{children:"iOS/Android native"}),(0,s.jsx)(n.td,{children:"Default choice"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"MP3"}),(0,s.jsx)(n.td,{children:"Good"}),(0,s.jsx)(n.td,{children:"Universal"}),(0,s.jsx)(n.td,{children:"Maximum compatibility"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"bitrate-guide",children:"Bitrate Guide"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Bitrate"}),(0,s.jsx)(n.th,{children:"Quality"}),(0,s.jsx)(n.th,{children:"File Size"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"64 kbps"}),(0,s.jsx)(n.td,{children:"Low (voice)"}),(0,s.jsx)(n.td,{children:"~0.5 MB/min"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"128 kbps"}),(0,s.jsx)(n.td,{children:"Standard"}),(0,s.jsx)(n.td,{children:"~1 MB/min"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"192 kbps"}),(0,s.jsx)(n.td,{children:"High"}),(0,s.jsx)(n.td,{children:"~1.5 MB/min"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"256 kbps"}),(0,s.jsx)(n.td,{children:"Very high"}),(0,s.jsx)(n.td,{children:"~2 MB/min"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"platform-notes",children:"Platform Notes"}),"\n",(0,s.jsx)(n.h3,{id:"ios",children:"iOS"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M4A/AAC uses AVFoundation (hardware accelerated)"}),"\n",(0,s.jsx)(n.li,{children:"MP3 uses LAME library"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"android",children:"Android"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M4A/AAC uses MediaCodec (hardware accelerated)"}),"\n",(0,s.jsx)(n.li,{children:"MP3 uses LAME library"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"False return"}),": Encoding failed - check file permissions and path validity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Large memory usage"}),": Encoding processes entire audio in memory"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wrong sample format"}),": Float samples must be in -1.0, 1.0 range"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Blocking call"}),": Runs synchronously; consider calling from background thread"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/",children:"SonixDecoder"})}),(0,s.jsx)(n.td,{children:"For decoding audio files to raw PCM"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-recorder/",children:"SonixRecorder"})}),(0,s.jsx)(n.td,{children:"For recording with automatic encoding"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix.model/-audio-raw-data/",children:"AudioRawData"})}),(0,s.jsx)(n.td,{children:"For the raw audio data structure"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Name"}),(0,s.jsx)(n.th,{children:"Summary"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/encode",children:"encode"})}),(0,s.jsxs)(n.td,{children:["[common]",(0,s.jsx)("br",{}),"fun ",(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/encode",children:"encode"}),"(data: ",(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix.model/-audio-raw-data/",children:"AudioRawData"}),", outputPath: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),", format: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),' = "m4a", bitrateKbps: ',(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"})," = 128): ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-boolean/index.html",children:"Boolean"}),(0,s.jsx)("br",{}),"Encode AudioRawData to a compressed audio file.",(0,s.jsx)("br",{}),"[common]",(0,s.jsx)("br",{}),"fun ",(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/encode",children:"encode"}),"(pcmData: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-byte-array/index.html",children:"ByteArray"}),", sampleRate: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"}),", channels: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"}),", outputPath: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),", format: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),' = "m4a", bitrateKbps: ',(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"})," = 128): ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-boolean/index.html",children:"Boolean"}),(0,s.jsx)("br",{}),"Encode PCM bytes to a compressed audio file.",(0,s.jsx)("br",{}),"[common]",(0,s.jsx)("br",{}),"fun ",(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/encode",children:"encode"}),"(samples: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", sampleRate: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"}),", channels: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"}),", outputPath: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),", format: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),' = "m4a", bitrateKbps: ',(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"})," = 128): ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-boolean/index.html",children:"Boolean"}),(0,s.jsx)("br",{}),"Encode float samples to a compressed audio file."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/is-format-available",children:"isFormatAvailable"})}),(0,s.jsxs)(n.td,{children:["[common]",(0,s.jsx)("br",{}),"fun ",(0,s.jsx)(n.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/is-format-available",children:"isFormatAvailable"}),"(format: ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),"): ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-boolean/index.html",children:"Boolean"}),(0,s.jsx)("br",{}),"Check if a format is available on this platform."]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);