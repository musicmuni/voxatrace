"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[449],{28453(e,a,r){r.d(a,{R:()=>t,x:()=>s});var i=r(96540);const n={},c=i.createContext(n);function t(e){const a=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),i.createElement(c.Provider,{value:a},e.children)}},37613(e,a,r){r.r(a),r.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/index","title":"index","description":"//voxatrace/com.musicmuni.voxatrace.calibra/CalibraVocalRange","source":"@site/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/index.md","sourceDirName":"api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range","slug":"/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"reset","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-v-a-d/reset"},"next":{"title":"index","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/-companion/"}}');var n=r(74848),c=r(28453);const t={},s="CalibraVocalRange",l={},o=[{value:"What is Vocal Range?",id:"what-is-vocal-range",level:2},{value:"When to Use",id:"when-to-use",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Kotlin",id:"kotlin",level:3},{value:"Swift",id:"swift",level:3},{value:"Guided Range Detection",id:"guided-range-detection",level:2},{value:"Kotlin",id:"kotlin-1",level:3},{value:"Detection Criteria (ASHA 2018)",id:"detection-criteria-asha-2018",level:2},{value:"Platform Notes",id:"platform-notes",level:2},{value:"iOS",id:"ios",level:3},{value:"Android",id:"android",level:3},{value:"Common Pitfalls",id:"common-pitfalls",level:2},{value:"See also",id:"see-also",level:4},{value:"Types",id:"types",level:2},{value:"Functions",id:"functions",level:2}];function d(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["//",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/",children:"voxatrace"}),"/",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/",children:"com.musicmuni.voxatrace.calibra"}),"/",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/",children:"CalibraVocalRange"})]}),"\n",(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"calibravocalrange",children:"CalibraVocalRange"})}),"\n",(0,n.jsxs)(a.p,{children:["class ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/",children:"CalibraVocalRange"})]}),"\n",(0,n.jsx)(a.p,{children:"Streaming vocal range analyzer for determining a singer's pitch range."}),"\n",(0,n.jsx)(a.h2,{id:"what-is-vocal-range",children:"What is Vocal Range?"}),"\n",(0,n.jsxs)(a.p,{children:["Vocal range is the span between a singer's lowest and highest notes. This analyzer detects the range using ",(0,n.jsx)(a.strong,{children:"pedagogically-valid criteria"})," based on ASHA 2018 guidelines and voice science research."]}),"\n",(0,n.jsx)(a.p,{children:"Use it for:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Onboarding"}),": Determine user's comfortable singing range"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Song selection"}),": Match songs to user's range"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Progress tracking"}),": See if range expands over time"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Key transposition"}),": Calculate optimal key for user"]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{children:"Scenario"}),(0,n.jsx)(a.th,{children:"Use This?"}),(0,n.jsx)(a.th,{children:"Why"})]})}),(0,n.jsxs)(a.tbody,{children:[(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"Find singer's range"}),(0,n.jsx)(a.td,{children:"Yes"}),(0,n.jsx)(a.td,{children:"Core use case"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"Guided range finding"}),(0,n.jsx)(a.td,{children:"Yes"}),(0,n.jsxs)(a.td,{children:[(0,n.jsx)(a.code,{children:"getStableNote()"})," for step-by-step"]})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"Real-time pitch display"}),(0,n.jsx)(a.td,{children:"No"}),(0,n.jsxs)(a.td,{children:["Use ",(0,n.jsx)(a.code,{children:"CalibraPitch"})]})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"Score singing"}),(0,n.jsx)(a.td,{children:"No"}),(0,n.jsxs)(a.td,{children:["Use ",(0,n.jsx)(a.code,{children:"CalibraLiveEval"})]})]})]})]}),"\n",(0,n.jsx)(a.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,n.jsx)(a.h3,{id:"kotlin",children:"Kotlin"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-kotlin",children:'val analyzer = CalibraVocalRange.create()\n\n// Feed audio from recorder\nrecorder.audioBuffers.collect { buffer ->\n    analyzer.addAudio(buffer.toFloatArray())\n}\n\n// Get detected range\nval range = analyzer.getRange()\nif (range != null) {\n    println("Range: ${range.lower.noteLabel} to ${range.upper.noteLabel}")\n    println("Octaves: ${range.octaves}")\n}\n\nanalyzer.release()\n'})}),"\n",(0,n.jsx)(a.h3,{id:"swift",children:"Swift"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'let analyzer = CalibraVocalRange.companion.create()\n\n// Feed audio from recorder\nfor await buffer in recorder.audioBuffersStream() {\n    analyzer.addAudio(samples: buffer.toFloatArray())\n}\n\n// Get detected range\nif let range = analyzer.getRange() {\n    print("Range: \\(range.lower.noteLabel) to \\(range.upper.noteLabel)")\n    print("Octaves: \\(range.octaves)")\n}\n\nanalyzer.release()\n'})}),"\n",(0,n.jsx)(a.h2,{id:"guided-range-detection",children:"Guided Range Detection"}),"\n",(0,n.jsx)(a.p,{children:'For step-by-step range finding (e.g., "sing your lowest note"):'}),"\n",(0,n.jsx)(a.h3,{id:"kotlin-1",children:"Kotlin"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-kotlin",children:'val analyzer = CalibraVocalRange.create()\n\n// Phase 1: Detect lowest note\nshowPrompt("Sing your lowest comfortable note")\n// ... user sings, feed audio via addAudio() ...\nval lowestNote = analyzer.getStableNote()\nanalyzer.reset()  // Reset for next phase\n\n// Phase 2: Detect highest note\nshowPrompt("Sing your highest comfortable note")\n// ... user sings, feed audio via addAudio() ...\nval highestNote = analyzer.getStableNote()\n\n// Calculate range\nval rangeOctaves = (highestNote.pitch.midiNote - lowestNote.pitch.midiNote) / 12f\n\nanalyzer.release()\n'})}),"\n",(0,n.jsx)(a.h2,{id:"detection-criteria-asha-2018",children:"Detection Criteria (ASHA 2018)"}),"\n",(0,n.jsx)(a.p,{children:"The analyzer uses these criteria for pedagogical validity:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Minimum 1 second"})," sustained pitch for note inclusion"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Confidence threshold"})," of 0.5 minimum"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Stability"}),": pitch deviation < 1 semitone within 50ms"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Percentile-based"})," range extraction (5th-95th percentile)"]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"platform-notes",children:"Platform Notes"}),"\n",(0,n.jsx)(a.h3,{id:"ios",children:"iOS"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Audio is typically 48kHz from microphone; internal resampling handles this"}),"\n",(0,n.jsx)(a.li,{children:"Uses YIN algorithm for pitch detection (no external dependencies)"}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"android",children:"Android"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Audio varies by device (44.1kHz, 48kHz, 16kHz)"}),"\n",(0,n.jsx)(a.li,{children:"Uses YIN algorithm for pitch detection (pure Kotlin)"}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Forgetting to release"}),": Call ",(0,n.jsx)(a.code,{children:"analyzer.release()"})," to free resources"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Not resetting between phases"}),": Call ",(0,n.jsx)(a.code,{children:"reset()"})," when starting new detection"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Not enough sustained notes"}),": User must hold notes for 1+ second"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Background noise"}),": High noise can trigger false detections"]}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"see-also",children:"See also"}),"\n",(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{}),(0,n.jsx)(a.th,{})]})}),(0,n.jsxs)(a.tbody,{children:[(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-vocal-range/",children:"VocalRange"})}),(0,n.jsx)(a.td,{children:"For the result structure"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-vocal-range-config/",children:"VocalRangeConfig"})}),(0,n.jsx)(a.td,{children:"For customizing detection parameters"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-pitch/",children:"CalibraPitch"})}),(0,n.jsx)(a.td,{children:"For general pitch detection"})]})]})]}),"\n",(0,n.jsx)(a.h2,{id:"types",children:"Types"}),"\n",(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{children:"Name"}),(0,n.jsx)(a.th,{children:"Summary"})]})}),(0,n.jsx)(a.tbody,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/-companion/",children:"Companion"})}),(0,n.jsxs)(a.td,{children:["[common]",(0,n.jsx)("br",{}),"object ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/-companion/",children:"Companion"})]})]})})]}),"\n",(0,n.jsx)(a.h2,{id:"functions",children:"Functions"}),"\n",(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{children:"Name"}),(0,n.jsx)(a.th,{children:"Summary"})]})}),(0,n.jsxs)(a.tbody,{children:[(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/add-audio",children:"addAudio"})}),(0,n.jsxs)(a.td,{children:["[common]",(0,n.jsx)("br",{}),"fun ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/add-audio",children:"addAudio"}),"(samples: ",(0,n.jsx)(a.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),")",(0,n.jsx)("br",{}),"Add audio samples for analysis."]})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/get-lower-limit",children:"getLowerLimit"})}),(0,n.jsxs)(a.td,{children:["[common]",(0,n.jsx)("br",{}),"fun ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/get-lower-limit",children:"getLowerLimit"}),"(): ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-vocal-pitch/",children:"VocalPitch"}),"?",(0,n.jsx)("br",{}),"Get lower limit from accumulated data (5th percentile of stable pitches)."]})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/get-range",children:"getRange"})}),(0,n.jsxs)(a.td,{children:["[common]",(0,n.jsx)("br",{}),"fun ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/get-range",children:"getRange"}),"(): ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-vocal-range/",children:"VocalRange"}),"?",(0,n.jsx)("br",{}),"Get complete range analysis."]})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/get-stable-note",children:"getStableNote"})}),(0,n.jsxs)(a.td,{children:["[common]",(0,n.jsx)("br",{}),"fun ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/get-stable-note",children:"getStableNote"}),"(): ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-detected-note/",children:"DetectedNote"}),"?",(0,n.jsx)("br",{}),"Get the stable note detected so far."]})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/get-stats",children:"getStats"})}),(0,n.jsxs)(a.td,{children:["[common]",(0,n.jsx)("br",{}),"fun ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/get-stats",children:"getStats"}),"(): ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-range-stats/",children:"RangeStats"}),(0,n.jsx)("br",{}),"Get statistics about accumulated data."]})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/get-upper-limit",children:"getUpperLimit"})}),(0,n.jsxs)(a.td,{children:["[common]",(0,n.jsx)("br",{}),"fun ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/get-upper-limit",children:"getUpperLimit"}),"(): ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-vocal-pitch/",children:"VocalPitch"}),"?",(0,n.jsx)("br",{}),"Get upper limit from accumulated data (95th percentile of stable pitches)."]})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/release",children:"release"})}),(0,n.jsxs)(a.td,{children:["[common]",(0,n.jsx)("br",{}),"fun ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/release",children:"release"}),"()",(0,n.jsx)("br",{}),"Release resources."]})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/reset",children:"reset"})}),(0,n.jsxs)(a.td,{children:["[common]",(0,n.jsx)("br",{}),"fun ",(0,n.jsx)(a.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-vocal-range/reset",children:"reset"}),"()",(0,n.jsx)("br",{}),"Reset for new detection session."]})]})]})]})]})}function h(e={}){const{wrapper:a}={...(0,c.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);