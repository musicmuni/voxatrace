"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[26313],{9660(t,e,a){a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/index","title":"index","description":"//voxatrace/com.musicmuni.voxatrace.calibra/CalibraBreath","source":"@site/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/index.md","sourceDirName":"api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath","slug":"/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"index","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/"},"next":{"title":"compute-capacity","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/compute-capacity"}}');var r=a(74848),n=a(28453);const s={},l="CalibraBreath",c={},o=[{value:"What is Breath Analysis?",id:"what-is-breath-analysis",level:2},{value:"When to Use",id:"when-to-use",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Kotlin",id:"kotlin",level:3},{value:"Swift",id:"swift",level:3},{value:"Understanding Breath Capacity",id:"understanding-breath-capacity",level:2},{value:"Platform Notes",id:"platform-notes",level:2},{value:"iOS/Android",id:"iosandroid",level:3},{value:"Common Pitfalls",id:"common-pitfalls",level:2},{value:"See also",id:"see-also",level:4},{value:"Functions",id:"functions",level:2}];function h(t){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:["//",(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/",children:"voxatrace"}),"/",(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/",children:"com.musicmuni.voxatrace.calibra"}),"/",(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/",children:"CalibraBreath"})]}),"\n",(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"calibrabreath",children:"CalibraBreath"})}),"\n",(0,r.jsxs)(e.p,{children:["object ",(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/",children:"CalibraBreath"})]}),"\n",(0,r.jsx)(e.p,{children:"Breath capacity and control analysis for vocal performance assessment."}),"\n",(0,r.jsx)(e.h2,{id:"what-is-breath-analysis",children:"What is Breath Analysis?"}),"\n",(0,r.jsx)(e.p,{children:"Breath analysis measures how well a singer manages their breathing:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Breath capacity"}),": Maximum duration of sustained notes without breathing"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Breath control"}),": How well breath is managed during phrases"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"These metrics help identify:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Singers who run out of breath mid-phrase"}),"\n",(0,r.jsx)(e.li,{children:"Progress in building breath support"}),"\n",(0,r.jsx)(e.li,{children:"Comparison with reference performances"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Scenario"}),(0,r.jsx)(e.th,{children:"Use This?"}),(0,r.jsx)(e.th,{children:"Why"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Analyze sustained note ability"}),(0,r.jsx)(e.td,{children:"Yes"}),(0,r.jsx)(e.td,{children:"Core use case"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Track breath improvement"}),(0,r.jsx)(e.td,{children:"Yes"}),(0,r.jsx)(e.td,{children:"Compare over time"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Real-time breath feedback"}),(0,r.jsx)(e.td,{children:"No"}),(0,r.jsx)(e.td,{children:"Use pitch contour length"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Detect breathing moments"}),(0,r.jsx)(e.td,{children:"Partially"}),(0,r.jsx)(e.td,{children:"Use unvoiced gaps"})]})]})]}),"\n",(0,r.jsx)(e.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,r.jsx)(e.h3,{id:"kotlin",children:"Kotlin"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-kotlin",children:'// Extract pitch contour first\nval contour = pitchExtractor.extract(audio, sampleRate = 16000)\nval times = contour.toTimesArray()\nval pitches = contour.toPitchesArray()\n\n// Check if enough data (needs 5+ seconds of voiced audio)\nif (CalibraBreath.hasEnoughData(times, pitches)) {\n    val capacity = CalibraBreath.computeCapacity(times, pitches)\n    println("Breath capacity: $capacity seconds")\n}\n\n// Get total voiced time\nval voicedTime = CalibraBreath.getCumulativeVoicedTime(times, pitches)\nprintln("Total sung time: $voicedTime seconds")\n'})}),"\n",(0,r.jsx)(e.h3,{id:"swift",children:"Swift"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-swift",children:'// Extract pitch contour first\nlet contour = pitchExtractor.extract(audio: audio, sampleRate: 16000)\nlet times = contour.toTimesArray()\nlet pitches = contour.toPitchesArray()\n\n// Check if enough data (needs 5+ seconds of voiced audio)\nif CalibraBreath.companion.hasEnoughData(times: times, pitchesHz: pitches) {\n    let capacity = CalibraBreath.companion.computeCapacity(times: times, pitchesHz: pitches)\n    print("Breath capacity: \\(capacity) seconds")\n}\n\n// Get total voiced time\nlet voicedTime = CalibraBreath.companion.getCumulativeVoicedTime(times: times, pitchesHz: pitches)\nprint("Total sung time: \\(voicedTime) seconds")\n'})}),"\n",(0,r.jsx)(e.h2,{id:"understanding-breath-capacity",children:"Understanding Breath Capacity"}),"\n",(0,r.jsx)(e.p,{children:"Breath capacity represents the longest sustained phrase:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["< ",(0,r.jsx)(e.strong,{children:"3 seconds"}),": Short breath support, needs work"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"3-5 seconds"}),": Average, typical for beginners"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"5-8 seconds"}),": Good breath control"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"8 seconds"}),": Excellent, trained singer level"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"platform-notes",children:"Platform Notes"}),"\n",(0,r.jsx)(e.h3,{id:"iosandroid",children:"iOS/Android"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Audio must be 16kHz mono"}),"\n",(0,r.jsx)(e.li,{children:"Requires at least 5 seconds of voiced audio for meaningful analysis"}),"\n",(0,r.jsx)(e.li,{children:"Works with pitch contours from any CalibraPitch extractor"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Not enough data"}),": Need 5+ seconds of actual singing (not silence)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Wrong pitch format"}),": Use -1 for unvoiced frames (not 0)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Timestamps must match"}),": ",(0,r.jsx)(e.code,{children:"times"})," and ",(0,r.jsx)(e.code,{children:"pitchesHz"})," must be same length"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"see-also",children:"See also"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{}),(0,r.jsx)(e.th,{})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-pitch/",children:"CalibraPitch"})}),(0,r.jsx)(e.td,{children:"For extracting pitch contours"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.model/-breath-metrics/",children:"BreathMetrics"})}),(0,r.jsx)(e.td,{children:"For detailed breath analysis results"})]})]})]}),"\n",(0,r.jsx)(e.h2,{id:"functions",children:"Functions"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Name"}),(0,r.jsx)(e.th,{children:"Summary"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/compute-capacity",children:"computeCapacity"})}),(0,r.jsxs)(e.td,{children:["[common]",(0,r.jsx)("br",{}),"fun ",(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/compute-capacity",children:"computeCapacity"}),"(times: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", pitchesHz: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),"): ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),(0,r.jsx)("br",{}),"Compute breath capacity from pitch contour."]})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/compute-metrics",children:"computeMetrics"})}),(0,r.jsxs)(e.td,{children:["[common]",(0,r.jsx)("br",{}),"fun ",(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/compute-metrics",children:"computeMetrics"}),"(refTimes: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", refPitchesHz: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", studentTimes: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", studentPitchesHz: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", feedbackSegmentIndices: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int-array/index.html",children:"IntArray"}),", feedbackStartTimes: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", feedbackEndTimes: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", refSegmentStarts: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", refSegmentEnds: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),"): ",(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra.model/-breath-metrics/",children:"BreathMetrics"}),(0,r.jsx)("br",{}),"Compute comprehensive breath metrics comparing student to reference."]})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/get-cumulative-voiced-time",children:"getCumulativeVoicedTime"})}),(0,r.jsxs)(e.td,{children:["[common]",(0,r.jsx)("br",{}),"fun ",(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/get-cumulative-voiced-time",children:"getCumulativeVoicedTime"}),"(times: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", pitchesHz: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),"): ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float/index.html",children:"Float"}),(0,r.jsx)("br",{}),"Get cumulative voiced time from pitch contour."]})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/has-enough-data",children:"hasEnoughData"})}),(0,r.jsxs)(e.td,{children:["[common]",(0,r.jsx)("br",{}),"fun ",(0,r.jsx)(e.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.calibra/-calibra-breath/has-enough-data",children:"hasEnoughData"}),"(times: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),", pitchesHz: ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-float-array/index.html",children:"FloatArray"}),"): ",(0,r.jsx)(e.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-boolean/index.html",children:"Boolean"}),(0,r.jsx)("br",{}),"Check if there's enough data for breath analysis."]})]})]})]})]})}function d(t={}){const{wrapper:e}={...(0,n.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(h,{...t})}):h(t)}},28453(t,e,a){a.d(e,{R:()=>s,x:()=>l});var i=a(96540);const r={},n=i.createContext(r);function s(t){const e=i.useContext(n);return i.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function l(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:s(t.components),i.createElement(n.Provider,{value:e},t.children)}}}]);