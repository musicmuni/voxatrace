"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[81369],{28453(e,i,a){a.d(i,{R:()=>o,x:()=>t});var n=a(96540);const d={},s=n.createContext(d);function o(e){const i=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),n.createElement(s.Provider,{value:i},e.children)}},28970(e,i,a){a.r(i),a.d(i,{assets:()=>r,contentTitle:()=>t,default:()=>x,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/index","title":"index","description":"//voxatrace/com.musicmuni.voxatrace.sonix/SonixDecoder","source":"@site/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/index.md","sourceDirName":"api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder","slug":"/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"index","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-recording-state/-stopping/"},"next":{"title":"decode-native","permalink":"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/decode-native"}}');var d=a(74848),s=a(28453);const o={},t="SonixDecoder",r={},c=[{value:"What is Audio Decoding?",id:"what-is-audio-decoding",level:2},{value:"When to Use",id:"when-to-use",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Kotlin",id:"kotlin",level:3},{value:"Swift",id:"swift",level:3},{value:"Supported Formats",id:"supported-formats",level:2},{value:"Platform Notes",id:"platform-notes",level:2},{value:"iOS",id:"ios",level:3},{value:"Android",id:"android",level:3},{value:"Common Pitfalls",id:"common-pitfalls",level:2},{value:"See also",id:"see-also",level:4},{value:"Functions",id:"functions",level:2}];function l(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(i.p,{children:["//",(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/",children:"voxatrace"}),"/",(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/",children:"com.musicmuni.voxatrace.sonix"}),"/",(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/",children:"SonixDecoder"})]}),"\n",(0,d.jsx)(i.header,{children:(0,d.jsx)(i.h1,{id:"sonixdecoder",children:"SonixDecoder"})}),"\n",(0,d.jsxs)(i.p,{children:["object ",(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/",children:"SonixDecoder"})]}),"\n",(0,d.jsx)(i.p,{children:"Decodes audio files to raw PCM data."}),"\n",(0,d.jsx)(i.h2,{id:"what-is-audio-decoding",children:"What is Audio Decoding?"}),"\n",(0,d.jsxs)(i.p,{children:["Audio files (MP3, M4A, etc.) are ",(0,d.jsx)(i.strong,{children:"compressed"})," - they store audio efficiently but can't be processed directly. Decoding converts compressed audio to ",(0,d.jsx)(i.strong,{children:"raw PCM samples"})," that Calibra APIs can analyze."]}),"\n",(0,d.jsx)(i.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Scenario"}),(0,d.jsx)(i.th,{children:"Use This?"}),(0,d.jsx)(i.th,{children:"Why"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"Load audio file for pitch detection"}),(0,d.jsx)(i.td,{children:"Yes"}),(0,d.jsx)(i.td,{children:"Calibra needs raw PCM"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"Load audio for melody evaluation"}),(0,d.jsx)(i.td,{children:"Yes"}),(0,d.jsx)(i.td,{children:"Core use case"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"Play audio file"}),(0,d.jsx)(i.td,{children:"No"}),(0,d.jsxs)(i.td,{children:["Use ",(0,d.jsx)(i.code,{children:"SonixPlayer"})," (decodes internally)"]})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"Record audio"}),(0,d.jsx)(i.td,{children:"No"}),(0,d.jsxs)(i.td,{children:["Use ",(0,d.jsx)(i.code,{children:"SonixRecorder"})]})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,d.jsx)(i.h3,{id:"kotlin",children:"Kotlin"}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-kotlin",children:'// Decode to 16kHz (default) for use with Calibra\nval audioData = SonixDecoder.decode("/path/to/audio.mp3")\nif (audioData != null) {\n    println("Sample rate: ${audioData.sampleRate}")  // Always 16000\n    println("Channels: ${audioData.numChannels}")\n    println("Duration: ${audioData.durationMilliSecs}ms")\n\n    // Use with Calibra APIs (expects 16kHz)\n    val samples = audioData.samples\n}\n\n// Decode at native sample rate (no resampling)\nval nativeAudio = SonixDecoder.decode("/path/to/audio.mp3", targetSampleRate = null)\n'})}),"\n",(0,d.jsx)(i.h3,{id:"swift",children:"Swift"}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-swift",children:'// Decode to 16kHz (default) for use with Calibra\nif let audioData = SonixDecoder.companion.decode(path: "/path/to/audio.mp3", targetSampleRate: 16000) {\n    print("Sample rate: \\(audioData.sampleRate)")  // Always 16000\n    print("Channels: \\(audioData.numChannels)")\n    print("Duration: \\(audioData.durationMilliSecs)ms")\n\n    // Use with Calibra APIs\n    let samples = audioData.samples\n}\n\n// Decode at native sample rate\nlet nativeAudio = SonixDecoder.companion.decodeNative(path: "/path/to/audio.mp3")\n'})}),"\n",(0,d.jsx)(i.h2,{id:"supported-formats",children:"Supported Formats"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Format"}),(0,d.jsx)(i.th,{children:"Android"}),(0,d.jsx)(i.th,{children:"iOS"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"WAV"}),(0,d.jsx)(i.td,{children:"Yes"}),(0,d.jsx)(i.td,{children:"Yes"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"MP3"}),(0,d.jsx)(i.td,{children:"Yes"}),(0,d.jsx)(i.td,{children:"Yes"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"M4A/AAC"}),(0,d.jsx)(i.td,{children:"Yes"}),(0,d.jsx)(i.td,{children:"Yes"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"OGG"}),(0,d.jsx)(i.td,{children:"Yes"}),(0,d.jsx)(i.td,{children:"No"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"FLAC"}),(0,d.jsx)(i.td,{children:"Yes"}),(0,d.jsx)(i.td,{children:"Yes"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"platform-notes",children:"Platform Notes"}),"\n",(0,d.jsx)(i.h3,{id:"ios",children:"iOS"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsx)(i.li,{children:"Uses AVFoundation for hardware-accelerated decoding"}),"\n",(0,d.jsx)(i.li,{children:"Supports any format supported by Core Audio"}),"\n"]}),"\n",(0,d.jsx)(i.h3,{id:"android",children:"Android"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsx)(i.li,{children:"Uses MediaExtractor and MediaCodec for hardware decoding"}),"\n",(0,d.jsx)(i.li,{children:"Falls back to software decoding if needed"}),"\n"]}),"\n",(0,d.jsx)(i.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,d.jsxs)(i.ol,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.strong,{children:"Null return"}),": Check for null - decoding fails if file doesn't exist or format unsupported"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.strong,{children:"Wrong sample rate for Calibra"}),": Use default (16kHz) or explicitly set targetSampleRate=16000"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.strong,{children:"Memory for large files"}),": Decoding loads entire audio into memory"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.strong,{children:"Relative paths"}),": Use absolute file paths"]}),"\n"]}),"\n",(0,d.jsx)(i.h4,{id:"see-also",children:"See also"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{}),(0,d.jsx)(i.th,{})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix.model/-audio-raw-data/",children:"AudioRawData"})}),(0,d.jsx)(i.td,{children:"For the decoded audio data structure"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-encoder/",children:"SonixEncoder"})}),(0,d.jsx)(i.td,{children:"For encoding raw audio back to compressed formats"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-resampler/",children:"SonixResampler"})}),(0,d.jsx)(i.td,{children:"For explicit resampling control"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"CalibraPitch"}),(0,d.jsx)(i.td,{children:"For analyzing decoded audio"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"functions",children:"Functions"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Name"}),(0,d.jsx)(i.th,{children:"Summary"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/decode",children:"decode"})}),(0,d.jsxs)(i.td,{children:["[common]",(0,d.jsx)("br",{}),"fun ",(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/decode",children:"decode"}),"(path: ",(0,d.jsx)(i.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),", targetSampleRate: ",(0,d.jsx)(i.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-int/index.html",children:"Int"}),"? = 16000): ",(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix.model/-audio-raw-data/",children:"AudioRawData"}),"?",(0,d.jsx)("br",{}),"Decodes an audio file to raw PCM data."]})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/decode-native",children:"decodeNative"})}),(0,d.jsxs)(i.td,{children:["[common]",(0,d.jsx)("br",{}),"fun ",(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix/-sonix-decoder/decode-native",children:"decodeNative"}),"(path: ",(0,d.jsx)(i.a,{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin/-string/index.html",children:"String"}),"): ",(0,d.jsx)(i.a,{href:"/voxatrace/docs/api/voxatrace/com.musicmuni.voxatrace.sonix.model/-audio-raw-data/",children:"AudioRawData"}),"?",(0,d.jsx)("br",{}),"Decodes an audio file at its native sample rate (no resampling)."]})]})]})]})]})}function x(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,d.jsx)(i,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}}}]);