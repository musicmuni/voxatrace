"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1479],{4596(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"sonix/player","title":"SonixPlayer","description":"Play audio files with real-time pitch shifting, tempo control, volume management, and looping.","source":"@site/docs/sonix/player.md","sourceDirName":"sonix","slug":"/sonix/player","permalink":"/voxatrace/sonix/player","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Sonix Overview","permalink":"/voxatrace/sonix/overview"},"next":{"title":"SonixRecorder","permalink":"/voxatrace/sonix/recorder"}}');var l=r(4848),s=r(8453);const t={sidebar_position:2},d="SonixPlayer",o={},a=[{value:"Quick Start",id:"quick-start",level:2},{value:"Kotlin",id:"kotlin",level:3},{value:"Swift",id:"swift",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Presets",id:"presets",level:3},{value:"Builder",id:"builder",level:3},{value:"Kotlin",id:"kotlin-1",level:4},{value:"Swift",id:"swift-1",level:4},{value:"Config Properties",id:"config-properties",level:3},{value:"Callbacks",id:"callbacks",level:3},{value:"Creating a Player",id:"creating-a-player",level:2},{value:"From File Path",id:"from-file-path",level:3},{value:"From Raw PCM Data",id:"from-raw-pcm-data",level:3},{value:"Kotlin",id:"kotlin-2",level:4},{value:"Swift",id:"swift-2",level:4},{value:"Factory Methods",id:"factory-methods",level:3},{value:"Playback Controls",id:"playback-controls",level:2},{value:"Pitch and Tempo",id:"pitch-and-tempo",level:2},{value:"Runtime Control",id:"runtime-control",level:3},{value:"Volume and Fading",id:"volume-and-fading",level:2},{value:"Looping",id:"looping",level:2},{value:"Observing State",id:"observing-state",level:2},{value:"Kotlin (StateFlow)",id:"kotlin-stateflow",level:3},{value:"Swift (Observers)",id:"swift-observers",level:3},{value:"Swift (Combine)",id:"swift-combine",level:3},{value:"StateFlows",id:"stateflows",level:3},{value:"Properties",id:"properties",level:3},{value:"Processing Tap",id:"processing-tap",level:2},{value:"Kotlin",id:"kotlin-3",level:3},{value:"Swift",id:"swift-3",level:3},{value:"Listener Interface",id:"listener-interface",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Music Player ViewModel",id:"music-player-viewmodel",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"sonixplayer",children:"SonixPlayer"})}),"\n",(0,l.jsx)(n.p,{children:"Play audio files with real-time pitch shifting, tempo control, volume management, and looping."}),"\n",(0,l.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,l.jsx)(n.h3,{id:"kotlin",children:"Kotlin"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'val player = SonixPlayer.create("path/to/song.mp3")\r\nplayer.play()\r\n\r\n// Later...\r\nplayer.pause()\r\nplayer.release()\n'})}),"\n",(0,l.jsx)(n.h3,{id:"swift",children:"Swift"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-swift",children:'let player = try await SonixPlayer.create(source: "path/to/song.mp3")\r\nplayer.play()\r\n\r\n// Later...\r\nplayer.pause()\r\nplayer.release()\n'})}),"\n",(0,l.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsx)(n.h3,{id:"presets",children:"Presets"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Preset"}),(0,l.jsx)(n.th,{children:"Kotlin"}),(0,l.jsx)(n.th,{children:"Swift"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Default"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"SonixPlayerConfig.DEFAULT"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:".default"})}),(0,l.jsx)(n.td,{children:"Play once at normal volume"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Looping"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"SonixPlayerConfig.LOOPING"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:".looping"})}),(0,l.jsx)(n.td,{children:"Infinite loop at normal volume"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"builder",children:"Builder"}),"\n",(0,l.jsx)(n.h4,{id:"kotlin-1",children:"Kotlin"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'val config = SonixPlayerConfig.Builder()\r\n    .preset(SonixPlayerConfig.LOOPING)\r\n    .volume(0.8f)\r\n    .pitch(-2f)\r\n    .tempo(0.75f)\r\n    .onComplete { println("Done!") }\r\n    .build()\r\n\r\nval player = SonixPlayer.create("song.mp3", config)\n'})}),"\n",(0,l.jsx)(n.h4,{id:"swift-1",children:"Swift"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-swift",children:'let config = SonixPlayerConfig.Builder()\r\n    .preset(.looping)\r\n    .volume(0.8)\r\n    .pitch(-2)\r\n    .tempo(0.75)\r\n    .onComplete { print("Done!") }\r\n    .build()\r\n\r\nlet player = try await SonixPlayer.create(source: "song.mp3", config: config)\n'})}),"\n",(0,l.jsx)(n.h3,{id:"config-properties",children:"Config Properties"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Default"}),(0,l.jsx)(n.th,{children:"Range"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"volume"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Float"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"1.0"})}),(0,l.jsx)(n.td,{children:"0.0 \u2013 1.0"}),(0,l.jsx)(n.td,{children:"Initial playback volume"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"pitch"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Float"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"0.0"})}),(0,l.jsx)(n.td,{children:"-12 \u2013 +12"}),(0,l.jsx)(n.td,{children:"Pitch shift in semitones"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"tempo"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Float"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"1.0"})}),(0,l.jsx)(n.td,{children:"0.25 \u2013 4.0"}),(0,l.jsx)(n.td,{children:"Speed multiplier"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"loopCount"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Int"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"1"})}),(0,l.jsx)(n.td,{children:"1+ or -1"}),(0,l.jsx)(n.td,{children:"Times to play (-1 = infinite)"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"callbacks",children:"Callbacks"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Builder Method"}),(0,l.jsx)(n.th,{children:"Kotlin Signature"}),(0,l.jsx)(n.th,{children:"Swift Signature"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"onComplete"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"() -> Unit"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"() -> Void"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"onLoopComplete"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"(loopIndex: Int, totalLoops: Int) -> Unit"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"(Int32, Int32) -> Void"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"onPlaybackStateChanged"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"(isPlaying: Boolean) -> Unit"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"(Bool) -> Void"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"onError"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"(message: String) -> Unit"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"(String) -> Void"})})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"creating-a-player",children:"Creating a Player"}),"\n",(0,l.jsx)(n.h3,{id:"from-file-path",children:"From File Path"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'val player = SonixPlayer.create("path/to/song.mp3")\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-swift",children:'let player = try await SonixPlayer.create(source: "path/to/song.mp3")\n'})}),"\n",(0,l.jsx)(n.h3,{id:"from-raw-pcm-data",children:"From Raw PCM Data"}),"\n",(0,l.jsx)(n.h4,{id:"kotlin-2",children:"Kotlin"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"val pcmData: ByteArray = ...\r\nval player = SonixPlayer.createFromPcm(\r\n    data = pcmData,\r\n    sampleRate = 44100,\r\n    channels = 1\r\n)\n"})}),"\n",(0,l.jsx)(n.h4,{id:"swift-2",children:"Swift"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-swift",children:"let pcmData: Data = ...\r\nlet player = SonixPlayer.createFromPcm(\r\n    data: pcmData,\r\n    sampleRate: 44100,\r\n    channels: 1\r\n)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"factory-methods",children:"Factory Methods"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Method"}),(0,l.jsx)(n.th,{children:"Parameters"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"create"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"source"}),", ",(0,l.jsx)(n.code,{children:"config"}),", ",(0,l.jsx)(n.code,{children:"audioSession"})]}),(0,l.jsx)(n.td,{children:"Create from file path (suspending)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"createFromPcm"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"data"}),", ",(0,l.jsx)(n.code,{children:"sampleRate"}),", ",(0,l.jsx)(n.code,{children:"channels"}),", ",(0,l.jsx)(n.code,{children:"config"}),", ",(0,l.jsx)(n.code,{children:"audioSession"})]}),(0,l.jsx)(n.td,{children:"Create from raw PCM bytes"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"playback-controls",children:"Playback Controls"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"player.play()              // Start or resume\r\nplayer.pause()             // Pause playback\r\nplayer.stop()              // Stop and reset to beginning\r\nplayer.seek(positionMs)    // Seek to position in milliseconds\r\nplayer.release()           // Release all resources\n"})}),"\n",(0,l.jsx)(n.h2,{id:"pitch-and-tempo",children:"Pitch and Tempo"}),"\n",(0,l.jsx)(n.h3,{id:"runtime-control",children:"Runtime Control"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"player.pitch = -2f    // 2 semitones down (lower key)\r\nplayer.pitch = 0f     // Original key\r\nplayer.pitch = 3f     // 3 semitones up (higher key)\r\n\r\nplayer.tempo = 0.5f   // Half speed\r\nplayer.tempo = 1.0f   // Normal speed\r\nplayer.tempo = 2.0f   // Double speed\n"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Range"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"pitch"})}),(0,l.jsx)(n.td,{children:"-12 to +12"}),(0,l.jsx)(n.td,{children:"Semitones shift without affecting speed"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"tempo"})}),(0,l.jsx)(n.td,{children:"0.25 to 4.0"}),(0,l.jsx)(n.td,{children:"Speed multiplier without affecting pitch"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"volume-and-fading",children:"Volume and Fading"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"player.volume = 0.5f   // Set to 50%\r\n\r\n// Fade in from silence\r\nplayer.volume = 0f\r\nplayer.play()\r\nplayer.fadeIn(targetVolume = 1f, durationMs = 500)\r\n\r\n// Fade out before stopping\r\nplayer.fadeOut(durationMs = 500)\r\nplayer.pause()\r\n\r\n// Smooth transition with easing\r\nplayer.setVolumeSmooth(\r\n    targetVolume = 0.5f,\r\n    durationMs = 300,\r\n    easing = VolumeEasing.EaseInOut\r\n)\n"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Method"}),(0,l.jsx)(n.th,{children:"Parameters"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"fadeIn"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"targetVolume: Float = 1f"}),", ",(0,l.jsx)(n.code,{children:"durationMs: Long = 500"})]}),(0,l.jsx)(n.td,{children:"Fade in (suspending)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"fadeOut"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"durationMs: Long = 500"})}),(0,l.jsx)(n.td,{children:"Fade out to silence (suspending)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"setVolumeSmooth"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"targetVolume"}),", ",(0,l.jsx)(n.code,{children:"durationMs"}),", ",(0,l.jsx)(n.code,{children:"easing"})]}),(0,l.jsx)(n.td,{children:"Volume transition with easing (suspending)"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"looping",children:"Looping"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'// Fixed loop count\r\nval config = SonixPlayerConfig.Builder()\r\n    .loopCount(3)  // Play 3 times total\r\n    .onLoopComplete { loopIndex, total ->\r\n        println("Completed loop ${loopIndex + 1} of $total")\r\n    }\r\n    .build()\r\n\r\n// Infinite loop via preset\r\nval player = SonixPlayer.create("song.mp3", SonixPlayerConfig.LOOPING)\r\n\r\n// Infinite loop via builder\r\nval config = SonixPlayerConfig.Builder()\r\n    .loopForever()\r\n    .build()\r\n\r\n// Change at runtime\r\nplayer.loopCount = -1  // Infinite\r\nplayer.loopCount = 5   // Play 5 times\n'})}),"\n",(0,l.jsx)(n.h2,{id:"observing-state",children:"Observing State"}),"\n",(0,l.jsx)(n.h3,{id:"kotlin-stateflow",children:"Kotlin (StateFlow)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"// Current time (for seek bar)\r\nplayer.currentTime.collect { timeMs ->\r\n    seekBar.progress = timeMs.toInt()\r\n}\r\n\r\n// Playing state (for play/pause button)\r\nplayer.isPlaying.collect { playing ->\r\n    playButton.icon = if (playing) pauseIcon else playIcon\r\n}\r\n\r\n// Errors\r\nplayer.error.collect { error ->\r\n    error?.let { showError(it.message) }\r\n}\r\n\r\n// Duration (not a flow - read directly)\r\nval totalMs = player.duration\n"})}),"\n",(0,l.jsx)(n.h3,{id:"swift-observers",children:"Swift (Observers)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-swift",children:"let playingTask = player.observeIsPlaying { isPlaying in\r\n    self.isPlaying = isPlaying\r\n}\r\n\r\nlet timeTask = player.observeCurrentTime { timeMs in\r\n    self.currentTimeMs = timeMs\r\n}\r\n\r\nlet errorTask = player.observeError { error in\r\n    if let error = error {\r\n        self.showError(error.message)\r\n    }\r\n}\r\n\r\n// Cancel when done\r\nplayingTask.cancel()\r\ntimeTask.cancel()\r\nerrorTask.cancel()\n"})}),"\n",(0,l.jsx)(n.h3,{id:"swift-combine",children:"Swift (Combine)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-swift",children:"player.isPlayingPublisher\r\n    .receive(on: DispatchQueue.main)\r\n    .sink { isPlaying in\r\n        self.isPlaying = isPlaying\r\n    }\r\n    .store(in: &cancellables)\r\n\r\nplayer.currentTimePublisher\r\n    .receive(on: DispatchQueue.main)\r\n    .sink { timeMs in\r\n        self.currentTimeMs = timeMs\r\n    }\r\n    .store(in: &cancellables)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"stateflows",children:"StateFlows"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"StateFlow"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"currentTime"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"StateFlow<Long>"})}),(0,l.jsx)(n.td,{children:"Playback position in milliseconds"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"isPlaying"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"StateFlow<Boolean>"})}),(0,l.jsx)(n.td,{children:"Whether currently playing"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"error"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"StateFlow<SonixError?>"})}),(0,l.jsx)(n.td,{children:"Error state"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"properties",children:"Properties"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"duration"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Long"})}),(0,l.jsx)(n.td,{children:"Total duration in milliseconds"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"asPlaybackInfoProvider"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"PlaybackInfoProvider"})}),(0,l.jsx)(n.td,{children:"For recording sync"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"processing-tap",children:"Processing Tap"}),"\n",(0,l.jsx)(n.p,{children:"Access and modify audio buffers during playback for real-time effects:"}),"\n",(0,l.jsx)(n.h3,{id:"kotlin-3",children:"Kotlin"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"player.setProcessingTap { buffer ->\r\n    // buffer is FloatArray \u2014 modify in-place\r\n    for (i in buffer.indices) {\r\n        buffer[i] *= 0.5f  // Reduce volume by half\r\n    }\r\n}\r\n\r\n// Remove tap\r\nplayer.setProcessingTap(null)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"swift-3",children:"Swift"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-swift",children:"player.setProcessingTap { samples in\r\n    // samples is inout [Float] \u2014 modify in-place\r\n    for i in samples.indices {\r\n        samples[i] *= 0.5\r\n    }\r\n}\r\n\r\n// Remove tap\r\nplayer.setProcessingTap(nil)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"listener-interface",children:"Listener Interface"}),"\n",(0,l.jsx)(n.p,{children:"Alternative to StateFlow observation and Builder callbacks:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'player.setPlaybackListener(object : SonixPlayer.PlaybackListener {\r\n    override fun onPlaybackCompleted() {\r\n        println("Done!")\r\n    }\r\n    override fun onLoopCompleted(loopIndex: Int, totalLoops: Int) {\r\n        println("Loop $loopIndex of $totalLoops")\r\n    }\r\n    override fun onPlaybackStateChanged(isPlaying: Boolean) {\r\n        updatePlayButton(isPlaying)\r\n    }\r\n    override fun onError(message: String) {\r\n        showError(message)\r\n    }\r\n})\n'})}),"\n",(0,l.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,l.jsx)(n.h3,{id:"music-player-viewmodel",children:"Music Player ViewModel"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"class MusicPlayerViewModel : ViewModel() {\r\n    private var player: SonixPlayer? = null\r\n\r\n    fun load(path: String) {\r\n        viewModelScope.launch {\r\n            player?.release()\r\n            player = SonixPlayer.create(path)\r\n        }\r\n    }\r\n\r\n    fun playPause() {\r\n        val p = player ?: return\r\n        if (p.isPlaying.value) p.pause() else p.play()\r\n    }\r\n\r\n    fun seek(positionMs: Long) {\r\n        player?.seek(positionMs)\r\n    }\r\n\r\n    override fun onCleared() {\r\n        player?.release()\r\n    }\r\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"./recorder",children:"SonixRecorder"})," \u2014 Record audio"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"./mixer",children:"SonixMixer"})," \u2014 Multi-track mixing"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"../guides/playing-audio",children:"Playing Audio Guide"})," \u2014 In-depth playback guide"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453(e,n,r){r.d(n,{R:()=>t,x:()=>d});var i=r(6540);const l={},s=i.createContext(l);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);